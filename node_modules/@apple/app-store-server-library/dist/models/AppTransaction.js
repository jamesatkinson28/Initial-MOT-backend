"use strict";
// Copyright (c) 2023 Apple Inc. Licensed under MIT License.
Object.defineProperty(exports, "__esModule", { value: true });
exports.AppTransactionValidator = void 0;
const Environment_1 = require("./Environment");
const PurchasePlatform_1 = require("./PurchasePlatform");
class AppTransactionValidator {
    validate(obj) {
        if ((typeof obj['appAppleId'] !== 'undefined') && !(typeof obj['appAppleId'] === "number")) {
            return false;
        }
        if ((typeof obj['bundleId'] !== 'undefined') && !(typeof obj['bundleId'] === "string" || obj['bundleId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['applicationVersion'] !== 'undefined') && !(typeof obj['applicationVersion'] === "string" || obj['applicationVersion'] instanceof String)) {
            return false;
        }
        if ((typeof obj['versionExternalIdentifier'] !== 'undefined') && !(typeof obj['versionExternalIdentifier'] === "number")) {
            return false;
        }
        if ((typeof obj['receiptCreationDate'] !== 'undefined') && !(typeof obj['receiptCreationDate'] === "number")) {
            return false;
        }
        if ((typeof obj['originalPurchaseDate'] !== 'undefined') && !(typeof obj['originalPurchaseDate'] === "number")) {
            return false;
        }
        if ((typeof obj['originalApplicationVersion'] !== 'undefined') && !(typeof obj['originalApplicationVersion'] === "string" || obj['originalApplicationVersion'] instanceof String)) {
            return false;
        }
        if ((typeof obj['deviceVerification'] !== 'undefined') && !(typeof obj['deviceVerification'] === "string" || obj['deviceVerification'] instanceof String)) {
            return false;
        }
        if ((typeof obj['deviceVerificationNonce'] !== 'undefined') && !(typeof obj['deviceVerificationNonce'] === "string" || obj['deviceVerificationNonce'] instanceof String)) {
            return false;
        }
        if ((typeof obj['preorderDate'] !== 'undefined') && !(typeof obj['preorderDate'] === "number")) {
            return false;
        }
        if ((typeof obj['environment'] !== 'undefined') && !(AppTransactionValidator.environmentValidator.validate(obj['environment']))) {
            return false;
        }
        if ((typeof obj['appTransactionId'] !== 'undefined') && !(typeof obj['appTransactionId'] === "string" || obj['appTransactionId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['originalPlatform'] !== 'undefined') && !(AppTransactionValidator.originalPlatformValidator.validate(obj['originalPlatform']))) {
            return false;
        }
        return true;
    }
}
exports.AppTransactionValidator = AppTransactionValidator;
AppTransactionValidator.environmentValidator = new Environment_1.EnvironmentValidator();
AppTransactionValidator.originalPlatformValidator = new PurchasePlatform_1.PurchasePlatformValidator();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXBwVHJhbnNhY3Rpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9tb2RlbHMvQXBwVHJhbnNhY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDREQUE0RDs7O0FBRTVELCtDQUFpRTtBQUNqRSx5REFBZ0Y7QUFzR2hGLE1BQWEsdUJBQXVCO0lBR2hDLFFBQVEsQ0FBQyxHQUFRO1FBQ2IsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsS0FBSyxRQUFRLENBQUMsRUFBRSxDQUFDO1lBQ3pGLE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsVUFBVSxDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLFVBQVUsQ0FBQyxLQUFLLFFBQVEsSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLFlBQVksTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUMxSCxPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLG9CQUFvQixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLG9CQUFvQixDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxZQUFZLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDeEosT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQywyQkFBMkIsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQywyQkFBMkIsQ0FBQyxLQUFLLFFBQVEsQ0FBQyxFQUFFLENBQUM7WUFDdkgsT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLFFBQVEsQ0FBQyxFQUFFLENBQUM7WUFDM0csT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLLFFBQVEsQ0FBQyxFQUFFLENBQUM7WUFDN0csT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxLQUFLLFFBQVEsSUFBSSxHQUFHLENBQUMsNEJBQTRCLENBQUMsWUFBWSxNQUFNLENBQUMsRUFBRSxDQUFDO1lBQ2hMLE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsb0JBQW9CLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsb0JBQW9CLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLG9CQUFvQixDQUFDLFlBQVksTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUN4SixPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLHlCQUF5QixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLHlCQUF5QixDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyx5QkFBeUIsQ0FBQyxZQUFZLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDdkssT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxjQUFjLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsY0FBYyxDQUFDLEtBQUssUUFBUSxDQUFDLEVBQUUsQ0FBQztZQUM3RixPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLGFBQWEsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQzlILE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsa0JBQWtCLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsa0JBQWtCLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLGtCQUFrQixDQUFDLFlBQVksTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUNsSixPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLGtCQUFrQixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLHVCQUF1QixDQUFDLHlCQUF5QixDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUM3SSxPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsT0FBTyxJQUFJLENBQUE7SUFDZixDQUFDOztBQTVDTCwwREE2Q0M7QUE1Q21CLDRDQUFvQixHQUFHLElBQUksa0NBQW9CLEVBQUUsQ0FBQTtBQUNqRCxpREFBeUIsR0FBRyxJQUFJLDRDQUF5QixFQUFFLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMjMgQXBwbGUgSW5jLiBMaWNlbnNlZCB1bmRlciBNSVQgTGljZW5zZS5cblxuaW1wb3J0IHsgRW52aXJvbm1lbnQsIEVudmlyb25tZW50VmFsaWRhdG9yIH0gZnJvbSBcIi4vRW52aXJvbm1lbnRcIlxuaW1wb3J0IHsgUHVyY2hhc2VQbGF0Zm9ybSwgUHVyY2hhc2VQbGF0Zm9ybVZhbGlkYXRvciB9IGZyb20gXCIuL1B1cmNoYXNlUGxhdGZvcm1cIlxuaW1wb3J0IHsgVmFsaWRhdG9yIH0gZnJvbSBcIi4vVmFsaWRhdG9yXCJcblxuLyoqXG4gKiBJbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgdGhlIGN1c3RvbWVy4oCZcyBwdXJjaGFzZSBvZiB0aGUgYXBwLCBjcnlwdG9ncmFwaGljYWxseSBzaWduZWQgYnkgdGhlIEFwcCBTdG9yZS5cbiAqXG4gKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vc3RvcmVraXQvYXBwdHJhbnNhY3Rpb24gQXBwVHJhbnNhY3Rpb259XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXBwVHJhbnNhY3Rpb24ge1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNlcnZlciBlbnZpcm9ubWVudCB0aGF0IHNpZ25zIHRoZSBhcHAgdHJhbnNhY3Rpb24uXG4gICAgICogIFxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9zdG9yZWtpdC9hcHB0cmFuc2FjdGlvbi8zOTYzOTAxLWVudmlyb25tZW50IGVudmlyb25tZW50fVxuICAgICAqL1xuICAgIHJlY2VpcHRUeXBlPzogRW52aXJvbm1lbnQgfCBzdHJpbmdcbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgdGhlIEFwcCBTdG9yZSB1c2VzIHRvIGlkZW50aWZ5IHRoZSBhcHAuXG4gICAgICogIFxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9zdG9yZWtpdC9hcHB0cmFuc2FjdGlvbi8zOTU0NDM2LWFwcGlkIGFwcElkfVxuICAgICAqL1xuICAgIGFwcEFwcGxlSWQ/OiBudW1iZXJcbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgYnVuZGxlIGlkZW50aWZpZXIgdGhhdCB0aGUgYXBwIHRyYW5zYWN0aW9uIGFwcGxpZXMgdG8uXG4gICAgICogIFxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9zdG9yZWtpdC9hcHB0cmFuc2FjdGlvbi8zOTU0NDM5LWJ1bmRsZWlkIGJ1bmRsZUlkfVxuICAgICAqL1xuICAgIGJ1bmRsZUlkPzogc3RyaW5nXG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIGFwcCB2ZXJzaW9uIHRoYXQgdGhlIGFwcCB0cmFuc2FjdGlvbiBhcHBsaWVzIHRvLlxuICAgICAqICBcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vc3RvcmVraXQvYXBwdHJhbnNhY3Rpb24vMzk1NDQzNy1hcHB2ZXJzaW9uIGFwcFZlcnNpb259XG4gICAgICovXG4gICAgYXBwbGljYXRpb25WZXJzaW9uPzogc3RyaW5nXG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIHZlcnNpb24gZXh0ZXJuYWwgaWRlbnRpZmllciBvZiB0aGUgYXBwXG4gICAgICogIFxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9zdG9yZWtpdC9hcHB0cmFuc2FjdGlvbi8zOTU0NDM4LWFwcHZlcnNpb25pZCBhcHBWZXJzaW9uSUR9XG4gICAgICovXG4gICAgdmVyc2lvbkV4dGVybmFsSWRlbnRpZmllcj86IG51bWJlclxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBkYXRlIHRoYXQgdGhlIEFwcCBTdG9yZSBzaWduZWQgdGhlIEpXUyBhcHAgdHJhbnNhY3Rpb24uXG4gICAgICogIFxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9zdG9yZWtpdC9hcHB0cmFuc2FjdGlvbi8zOTU0NDQ5LXNpZ25lZGRhdGUgc2lnbmVkRGF0ZX1cbiAgICAgKi9cbiAgICByZWNlaXB0Q3JlYXRpb25EYXRlPzogbnVtYmVyXG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIGRhdGUgdGhlIHVzZXIgb3JpZ2luYWxseSBwdXJjaGFzZWQgdGhlIGFwcCBmcm9tIHRoZSBBcHAgU3RvcmUuXG4gICAgICogIFxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9zdG9yZWtpdC9hcHB0cmFuc2FjdGlvbi8zOTU0NDQ4LW9yaWdpbmFscHVyY2hhc2VkYXRlIG9yaWdpbmFsUHVyY2hhc2VEYXRlfVxuICAgICAqL1xuICAgIG9yaWdpbmFsUHVyY2hhc2VEYXRlPzogbnVtYmVyXG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIGFwcCB2ZXJzaW9uIHRoYXQgdGhlIHVzZXIgb3JpZ2luYWxseSBwdXJjaGFzZWQgZnJvbSB0aGUgQXBwIFN0b3JlLlxuICAgICAqICBcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vc3RvcmVraXQvYXBwdHJhbnNhY3Rpb24vMzk1NDQ0Ny1vcmlnaW5hbGFwcHZlcnNpb24gb3JpZ2luYWxBcHBWZXJzaW9ufVxuICAgICAqL1xuICAgIG9yaWdpbmFsQXBwbGljYXRpb25WZXJzaW9uPzogc3RyaW5nXG4gICAgXG4gICAgLyoqXG4gICAgVGhlIEJhc2U2NCBkZXZpY2UgdmVyaWZpY2F0aW9uIHZhbHVlIHRvIHVzZSB0byB2ZXJpZnkgd2hldGhlciB0aGUgYXBwIHRyYW5zYWN0aW9uIGJlbG9uZ3MgdG8gdGhlIGRldmljZS5cblxuICAgIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9zdG9yZWtpdC9hcHB0cmFuc2FjdGlvbi8zOTU0NDQxLWRldmljZXZlcmlmaWNhdGlvbiBkZXZpY2VWZXJpZmljYXRpb259XG4gICAgKi9cbiAgICBkZXZpY2VWZXJpZmljYXRpb24/OiBzdHJpbmdcbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgVVVJRCB1c2VkIHRvIGNvbXB1dGUgdGhlIGRldmljZSB2ZXJpZmljYXRpb24gdmFsdWUuXG4gICAgICogXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL3N0b3Jla2l0L2FwcHRyYW5zYWN0aW9uLzM5NTQ0NDItZGV2aWNldmVyaWZpY2F0aW9ubm9uY2UgZGV2aWNlVmVyaWZpY2F0aW9uTm9uY2V9XG4gICAgKi9cbiAgICBkZXZpY2VWZXJpZmljYXRpb25Ob25jZT86IHN0cmluZ1xuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBkYXRlIHRoZSBjdXN0b21lciBwbGFjZWQgYW4gb3JkZXIgZm9yIHRoZSBhcHAgYmVmb3JlIGl04oCZcyBhdmFpbGFibGUgaW4gdGhlIEFwcCBTdG9yZS5cbiAgICAgKiAgXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL3N0b3Jla2l0L2FwcHRyYW5zYWN0aW9uLzQwMTMxNzUtcHJlb3JkZXJkYXRlIHByZW9yZGVyRGF0ZX1cbiAgICAqL1xuICAgIHByZW9yZGVyRGF0ZT86IG51bWJlclxuXG4gICAgLyoqXG4gICAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBhcHAgZG93bmxvYWQgdHJhbnNhY3Rpb24uXG4gICAgICogXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL3N0b3Jla2l0L2FwcHRyYW5zYWN0aW9uL2FwcHRyYW5zYWN0aW9uaWQgYXBwVHJhbnNhY3Rpb25JZH1cbiAgICAqL1xuICAgIGFwcFRyYW5zYWN0aW9uSWQ/OiBzdHJpbmdcblxuICAgIC8qKlxuICAgICAqIFRoZSBwbGF0Zm9ybSBvbiB3aGljaCB0aGUgY3VzdG9tZXIgb3JpZ2luYWxseSBwdXJjaGFzZWQgdGhlIGFwcC5cbiAgICAgKiBcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vc3RvcmVraXQvYXBwdHJhbnNhY3Rpb24vb3JpZ2luYWxwbGF0Zm9ybS00bW9neiBvcmlnaW5hbFBsYXRmb3JtfVxuICAgICovXG4gICAgb3JpZ2luYWxQbGF0Zm9ybT86IFB1cmNoYXNlUGxhdGZvcm0gfCBzdHJpbmdcbn1cblxuZXhwb3J0IGNsYXNzIEFwcFRyYW5zYWN0aW9uVmFsaWRhdG9yIGltcGxlbWVudHMgVmFsaWRhdG9yPEFwcFRyYW5zYWN0aW9uPiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGVudmlyb25tZW50VmFsaWRhdG9yID0gbmV3IEVudmlyb25tZW50VmFsaWRhdG9yKClcbiAgICBzdGF0aWMgcmVhZG9ubHkgb3JpZ2luYWxQbGF0Zm9ybVZhbGlkYXRvciA9IG5ldyBQdXJjaGFzZVBsYXRmb3JtVmFsaWRhdG9yKClcbiAgICB2YWxpZGF0ZShvYmo6IGFueSk6IG9iaiBpcyBBcHBUcmFuc2FjdGlvbiB7XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnYXBwQXBwbGVJZCddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydhcHBBcHBsZUlkJ10gPT09IFwibnVtYmVyXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ2J1bmRsZUlkJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ2J1bmRsZUlkJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydidW5kbGVJZCddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydhcHBsaWNhdGlvblZlcnNpb24nXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnYXBwbGljYXRpb25WZXJzaW9uJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydhcHBsaWNhdGlvblZlcnNpb24nXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsndmVyc2lvbkV4dGVybmFsSWRlbnRpZmllciddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWyd2ZXJzaW9uRXh0ZXJuYWxJZGVudGlmaWVyJ10gPT09IFwibnVtYmVyXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ3JlY2VpcHRDcmVhdGlvbkRhdGUnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsncmVjZWlwdENyZWF0aW9uRGF0ZSddID09PSBcIm51bWJlclwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydvcmlnaW5hbFB1cmNoYXNlRGF0ZSddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydvcmlnaW5hbFB1cmNoYXNlRGF0ZSddID09PSBcIm51bWJlclwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydvcmlnaW5hbEFwcGxpY2F0aW9uVmVyc2lvbiddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydvcmlnaW5hbEFwcGxpY2F0aW9uVmVyc2lvbiddID09PSBcInN0cmluZ1wiIHx8IG9ialsnb3JpZ2luYWxBcHBsaWNhdGlvblZlcnNpb24nXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnZGV2aWNlVmVyaWZpY2F0aW9uJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ2RldmljZVZlcmlmaWNhdGlvbiddID09PSBcInN0cmluZ1wiIHx8IG9ialsnZGV2aWNlVmVyaWZpY2F0aW9uJ10gaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ2RldmljZVZlcmlmaWNhdGlvbk5vbmNlJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ2RldmljZVZlcmlmaWNhdGlvbk5vbmNlJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydkZXZpY2VWZXJpZmljYXRpb25Ob25jZSddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydwcmVvcmRlckRhdGUnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsncHJlb3JkZXJEYXRlJ10gPT09IFwibnVtYmVyXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ2Vudmlyb25tZW50J10gIT09ICd1bmRlZmluZWQnKSAmJiAhKEFwcFRyYW5zYWN0aW9uVmFsaWRhdG9yLmVudmlyb25tZW50VmFsaWRhdG9yLnZhbGlkYXRlKG9ialsnZW52aXJvbm1lbnQnXSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ2FwcFRyYW5zYWN0aW9uSWQnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnYXBwVHJhbnNhY3Rpb25JZCddID09PSBcInN0cmluZ1wiIHx8IG9ialsnYXBwVHJhbnNhY3Rpb25JZCddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydvcmlnaW5hbFBsYXRmb3JtJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKEFwcFRyYW5zYWN0aW9uVmFsaWRhdG9yLm9yaWdpbmFsUGxhdGZvcm1WYWxpZGF0b3IudmFsaWRhdGUob2JqWydvcmlnaW5hbFBsYXRmb3JtJ10pKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG59Il19