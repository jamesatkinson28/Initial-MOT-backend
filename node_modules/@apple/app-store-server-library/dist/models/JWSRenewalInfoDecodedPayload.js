"use strict";
// Copyright (c) 2023 Apple Inc. Licensed under MIT License.
Object.defineProperty(exports, "__esModule", { value: true });
exports.JWSRenewalInfoDecodedPayloadValidator = void 0;
const AutoRenewStatus_1 = require("./AutoRenewStatus");
const Environment_1 = require("./Environment");
const ExpirationIntent_1 = require("./ExpirationIntent");
const OfferDiscountType_1 = require("./OfferDiscountType");
const OfferType_1 = require("./OfferType");
const PriceIncreaseStatus_1 = require("./PriceIncreaseStatus");
class JWSRenewalInfoDecodedPayloadValidator {
    validate(obj) {
        if ((typeof obj['expirationIntent'] !== 'undefined') && !(JWSRenewalInfoDecodedPayloadValidator.expirationIntentValidator.validate(obj['expirationIntent']))) {
            return false;
        }
        if ((typeof obj['originalTransactionId'] !== 'undefined') && !(typeof obj['originalTransactionId'] === "string" || obj['originalTransactionId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['autoRenewProductId'] !== 'undefined') && !(typeof obj['autoRenewProductId'] === "string" || obj['autoRenewProductId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['productId'] !== 'undefined') && !(typeof obj['productId'] === "string" || obj['productId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['autoRenewStatus'] !== 'undefined') && !(JWSRenewalInfoDecodedPayloadValidator.autoRenewStatusValidator.validate(obj['autoRenewStatus']))) {
            return false;
        }
        if ((typeof obj['isInBillingRetryPeriod'] !== 'undefined') && !(typeof obj['isInBillingRetryPeriod'] === "boolean" || obj['isInBillingRetryPeriod'] instanceof Boolean)) {
            return false;
        }
        if ((typeof obj['priceIncreaseStatus'] !== 'undefined') && !(JWSRenewalInfoDecodedPayloadValidator.priceIncreaseStatusValidator.validate(obj['priceIncreaseStatus']))) {
            return false;
        }
        if ((typeof obj['gracePeriodExpiresDate'] !== 'undefined') && !(typeof obj['gracePeriodExpiresDate'] === "number")) {
            return false;
        }
        if ((typeof obj['offerType'] !== 'undefined') && !(JWSRenewalInfoDecodedPayloadValidator.offerTypeValidator.validate(obj['offerType']))) {
            return false;
        }
        if ((typeof obj['offerIdentifier'] !== 'undefined') && !(typeof obj['offerIdentifier'] === "string" || obj['offerIdentifier'] instanceof String)) {
            return false;
        }
        if ((typeof obj['signedDate'] !== 'undefined') && !(typeof obj['signedDate'] === "number")) {
            return false;
        }
        if ((typeof obj['environment'] !== 'undefined') && !(JWSRenewalInfoDecodedPayloadValidator.environmentValidator.validate(obj['environment']))) {
            return false;
        }
        if ((typeof obj['recentSubscriptionStartDate'] !== 'undefined') && !(typeof obj['recentSubscriptionStartDate'] === 'number')) {
            return false;
        }
        if ((typeof obj['renewalDate'] !== 'undefined') && !(typeof obj['renewalDate'] === 'number')) {
            return false;
        }
        if ((typeof obj['currency'] !== 'undefined') && !(typeof obj['currency'] === "string" || obj['currency'] instanceof String)) {
            return false;
        }
        if ((typeof obj['renewalPrice'] !== 'undefined') && !(typeof obj['renewalPrice'] === "number")) {
            return false;
        }
        if ((typeof obj['offerDiscountType'] !== 'undefined') && !(JWSRenewalInfoDecodedPayloadValidator.offerDiscountTypeValidator.validate(obj['offerDiscountType']))) {
            return false;
        }
        if (typeof obj['eligibleWinBackOfferIds'] !== 'undefined') {
            if (!Array.isArray(obj['eligibleWinBackOfferIds'])) {
                return false;
            }
            for (const eligibleWinBackOfferId of obj['eligibleWinBackOfferIds']) {
                if (!(typeof eligibleWinBackOfferId === "string" || eligibleWinBackOfferId instanceof String)) {
                    return false;
                }
            }
        }
        if ((typeof obj['appAccountToken'] !== 'undefined') && !(typeof obj['appAccountToken'] === "string" || obj['appAccountToken'] instanceof String)) {
            return false;
        }
        if ((typeof obj['appTransactionId'] !== 'undefined') && !(typeof obj['appTransactionId'] === "string" || obj['appTransactionId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['offerPeriod'] !== 'undefined') && !(typeof obj['offerPeriod'] === "string" || obj['offerPeriod'] instanceof String)) {
            return false;
        }
        return true;
    }
}
exports.JWSRenewalInfoDecodedPayloadValidator = JWSRenewalInfoDecodedPayloadValidator;
JWSRenewalInfoDecodedPayloadValidator.environmentValidator = new Environment_1.EnvironmentValidator();
JWSRenewalInfoDecodedPayloadValidator.offerTypeValidator = new OfferType_1.OfferTypeValidator();
JWSRenewalInfoDecodedPayloadValidator.priceIncreaseStatusValidator = new PriceIncreaseStatus_1.PriceIncreaseStatusValidator();
JWSRenewalInfoDecodedPayloadValidator.autoRenewStatusValidator = new AutoRenewStatus_1.AutoRenewStatusValidator();
JWSRenewalInfoDecodedPayloadValidator.expirationIntentValidator = new ExpirationIntent_1.ExpirationIntentValidator();
JWSRenewalInfoDecodedPayloadValidator.offerDiscountTypeValidator = new OfferDiscountType_1.OfferDiscountTypeValidator();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSldTUmVuZXdhbEluZm9EZWNvZGVkUGF5bG9hZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL21vZGVscy9KV1NSZW5ld2FsSW5mb0RlY29kZWRQYXlsb2FkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSw0REFBNEQ7OztBQUU1RCx1REFBNkU7QUFFN0UsK0NBQWlFO0FBQ2pFLHlEQUFnRjtBQUNoRiwyREFBbUY7QUFDbkYsMkNBQTJEO0FBQzNELCtEQUF5RjtBQStKekYsTUFBYSxxQ0FBcUM7SUFPOUMsUUFBUSxDQUFDLEdBQVE7UUFDYixJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsa0JBQWtCLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMscUNBQXFDLENBQUMseUJBQXlCLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQzNKLE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsdUJBQXVCLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsdUJBQXVCLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLHVCQUF1QixDQUFDLFlBQVksTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUNqSyxPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLG9CQUFvQixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLG9CQUFvQixDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxZQUFZLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDeEosT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxXQUFXLENBQUMsS0FBSyxXQUFX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bnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDIzIEFwcGxlIEluYy4gTGljZW5zZWQgdW5kZXIgTUlUIExpY2Vuc2UuXG5cbmltcG9ydCB7IEF1dG9SZW5ld1N0YXR1cywgQXV0b1JlbmV3U3RhdHVzVmFsaWRhdG9yIH0gZnJvbSBcIi4vQXV0b1JlbmV3U3RhdHVzXCJcbmltcG9ydCB7IERlY29kZWRTaWduZWREYXRhIH0gZnJvbSBcIi4vRGVjb2RlZFNpZ25lZERhdGFcIlxuaW1wb3J0IHsgRW52aXJvbm1lbnQsIEVudmlyb25tZW50VmFsaWRhdG9yIH0gZnJvbSBcIi4vRW52aXJvbm1lbnRcIlxuaW1wb3J0IHsgRXhwaXJhdGlvbkludGVudCwgRXhwaXJhdGlvbkludGVudFZhbGlkYXRvciB9IGZyb20gXCIuL0V4cGlyYXRpb25JbnRlbnRcIlxuaW1wb3J0IHsgT2ZmZXJEaXNjb3VudFR5cGUsIE9mZmVyRGlzY291bnRUeXBlVmFsaWRhdG9yIH0gZnJvbSBcIi4vT2ZmZXJEaXNjb3VudFR5cGVcIlxuaW1wb3J0IHsgT2ZmZXJUeXBlLCBPZmZlclR5cGVWYWxpZGF0b3IgfSBmcm9tIFwiLi9PZmZlclR5cGVcIlxuaW1wb3J0IHsgUHJpY2VJbmNyZWFzZVN0YXR1cywgUHJpY2VJbmNyZWFzZVN0YXR1c1ZhbGlkYXRvciB9IGZyb20gXCIuL1ByaWNlSW5jcmVhc2VTdGF0dXNcIlxuaW1wb3J0IHsgVmFsaWRhdG9yIH0gZnJvbSBcIi4vVmFsaWRhdG9yXCJcblxuLyoqXG4gKiBBIGRlY29kZWQgcGF5bG9hZCBjb250YWluaW5nIHN1YnNjcmlwdGlvbiByZW5ld2FsIGluZm9ybWF0aW9uIGZvciBhbiBhdXRvLXJlbmV3YWJsZSBzdWJzY3JpcHRpb24uXG4gKlxuICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL2p3c3JlbmV3YWxpbmZvZGVjb2RlZHBheWxvYWQgSldTUmVuZXdhbEluZm9EZWNvZGVkUGF5bG9hZH1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBKV1NSZW5ld2FsSW5mb0RlY29kZWRQYXlsb2FkIGV4dGVuZHMgRGVjb2RlZFNpZ25lZERhdGEge1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlYXNvbiB0aGUgc3Vic2NyaXB0aW9uIGV4cGlyZWQuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvZXhwaXJhdGlvbmludGVudCBleHBpcmF0aW9uSW50ZW50fVxuICAgICAqKi9cbiAgICBleHBpcmF0aW9uSW50ZW50PzogRXhwaXJhdGlvbkludGVudCB8IG51bWJlclxuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgb3JpZ2luYWwgdHJhbnNhY3Rpb24gaWRlbnRpZmllciBvZiBhIHB1cmNoYXNlLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL29yaWdpbmFsdHJhbnNhY3Rpb25pZCBvcmlnaW5hbFRyYW5zYWN0aW9uSWR9XG4gICAgICoqL1xuICAgIG9yaWdpbmFsVHJhbnNhY3Rpb25JZD86IHN0cmluZ1xuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgcHJvZHVjdCBpZGVudGlmaWVyIG9mIHRoZSBwcm9kdWN0IHRoYXQgd2lsbCByZW5ldyBhdCB0aGUgbmV4dCBiaWxsaW5nIHBlcmlvZC5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9hdXRvcmVuZXdwcm9kdWN0aWQgYXV0b1JlbmV3UHJvZHVjdElkfVxuICAgICAqKi9cbiAgICBhdXRvUmVuZXdQcm9kdWN0SWQ/OiBzdHJpbmdcbiAgICAgICAgXG4gICAgLyoqXG4gICAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgcHJvZHVjdCwgdGhhdCB5b3UgY3JlYXRlIGluIEFwcCBTdG9yZSBDb25uZWN0LlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL3Byb2R1Y3RpZCBwcm9kdWN0SWR9XG4gICAgICoqL1xuICAgIHByb2R1Y3RJZD86IHN0cmluZ1xuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgcmVuZXdhbCBzdGF0dXMgb2YgdGhlIGF1dG8tcmVuZXdhYmxlIHN1YnNjcmlwdGlvbi5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9hdXRvcmVuZXdzdGF0dXMgYXV0b1JlbmV3U3RhdHVzfVxuICAgICAqKi9cbiAgICBhdXRvUmVuZXdTdGF0dXM/OiBBdXRvUmVuZXdTdGF0dXMgfCBudW1iZXJcbiAgICAgICAgXG4gICAgLyoqXG4gICAgICogQSBCb29sZWFuIHZhbHVlIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIEFwcCBTdG9yZSBpcyBhdHRlbXB0aW5nIHRvIGF1dG9tYXRpY2FsbHkgcmVuZXcgYW4gZXhwaXJlZCBzdWJzY3JpcHRpb24uXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvaXNpbmJpbGxpbmdyZXRyeXBlcmlvZCBpc0luQmlsbGluZ1JldHJ5UGVyaW9kfVxuICAgICAqKi9cbiAgICBpc0luQmlsbGluZ1JldHJ5UGVyaW9kPzogYm9vbGVhblxuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdHVzIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIGF1dG8tcmVuZXdhYmxlIHN1YnNjcmlwdGlvbiBpcyBzdWJqZWN0IHRvIGEgcHJpY2UgaW5jcmVhc2UuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvcHJpY2VpbmNyZWFzZXN0YXR1cyBwcmljZUluY3JlYXNlU3RhdHVzfVxuICAgICAqKi9cbiAgICBwcmljZUluY3JlYXNlU3RhdHVzPzogUHJpY2VJbmNyZWFzZVN0YXR1cyB8IG51bWJlclxuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgdGltZSB3aGVuIHRoZSBiaWxsaW5nIGdyYWNlIHBlcmlvZCBmb3Igc3Vic2NyaXB0aW9uIHJlbmV3YWxzIGV4cGlyZXMuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvZ3JhY2VwZXJpb2RleHBpcmVzZGF0ZSBncmFjZVBlcmlvZEV4cGlyZXNEYXRlfVxuICAgICAqKi9cbiAgICBncmFjZVBlcmlvZEV4cGlyZXNEYXRlPzogbnVtYmVyXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHN1YnNjcmlwdGlvbiBvZmZlci5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9vZmZlcnR5cGUgb2ZmZXJUeXBlfVxuICAgICAqKi9cbiAgICBvZmZlclR5cGU/OiBPZmZlclR5cGUgfCBudW1iZXJcbiAgICAgICAgXG4gICAgLyoqXG4gICAgICogVGhlIG9mZmVyIGNvZGUgb3IgdGhlIHByb21vdGlvbmFsIG9mZmVyIGlkZW50aWZpZXIuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvb2ZmZXJpZGVudGlmaWVyIG9mZmVySWRlbnRpZmllcn1cbiAgICAgKiovXG4gICAgb2ZmZXJJZGVudGlmaWVyPzogc3RyaW5nXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBVTklYIHRpbWUsIGluIG1pbGxpc2Vjb25kcywgdGhhdCB0aGUgQXBwIFN0b3JlIHNpZ25lZCB0aGUgSlNPTiBXZWIgU2lnbmF0dXJlIGRhdGEuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvc2lnbmVkZGF0ZSBzaWduZWREYXRlfVxuICAgICAqKi9cbiAgICBzaWduZWREYXRlPzogbnVtYmVyXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBzZXJ2ZXIgZW52aXJvbm1lbnQsIGVpdGhlciBzYW5kYm94IG9yIHByb2R1Y3Rpb24uXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvZW52aXJvbm1lbnQgZW52aXJvbm1lbnR9XG4gICAgICoqL1xuICAgIGVudmlyb25tZW50PzogRW52aXJvbm1lbnQgfCBzdHJpbmdcbiAgICAgICAgXG4gICAgLyoqXG4gICAgICogVGhlIGVhcmxpZXN0IHN0YXJ0IGRhdGUgb2YgYSBzdWJzY3JpcHRpb24gaW4gYSBzZXJpZXMgb2YgYXV0by1yZW5ld2FibGUgc3Vic2NyaXB0aW9uIHB1cmNoYXNlcyB0aGF0IGlnbm9yZXMgYWxsIGxhcHNlcyBvZiBwYWlkIHNlcnZpY2Ugc2hvcnRlciB0aGFuIDYwIGRheXMuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvcmVjZW50c3Vic2NyaXB0aW9uc3RhcnRkYXRlIHJlY2VudFN1YnNjcmlwdGlvblN0YXJ0RGF0ZX1cbiAgICAgKiovXG4gICAgcmVjZW50U3Vic2NyaXB0aW9uU3RhcnREYXRlPzogbnVtYmVyXG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIFVOSVggdGltZSwgaW4gbWlsbGlzZWNvbmRzLCB3aGVuIHRoZSBtb3N0IHJlY2VudCBhdXRvLXJlbmV3YWJsZSBzdWJzY3JpcHRpb24gcHVyY2hhc2UgZXhwaXJlcy5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9yZW5ld2FsZGF0ZSByZW5ld2FsRGF0ZX1cbiAgICAgKiovXG4gICAgcmVuZXdhbERhdGU/OiBudW1iZXJcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW5jeSBjb2RlIGZvciB0aGUgcmVuZXdhbFByaWNlIG9mIHRoZSBzdWJzY3JpcHRpb24uXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvY3VycmVuY3kgY3VycmVuY3l9XG4gICAgICoqL1xuICAgIGN1cnJlbmN5Pzogc3RyaW5nXG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVuZXdhbCBwcmljZSwgaW4gbWlsbGl1bml0cywgb2YgdGhlIGF1dG8tcmVuZXdhYmxlIHN1YnNjcmlwdGlvbiB0aGF0IHJlbmV3cyBhdCB0aGUgbmV4dCBiaWxsaW5nIHBlcmlvZC5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9yZW5ld2FscHJpY2UgcmVuZXdhbFByaWNlfVxuICAgICAqKi9cbiAgICByZW5ld2FsUHJpY2U/OiBudW1iZXJcblxuICAgIC8qKlxuICAgICAqIFRoZSBwYXltZW50IG1vZGUgeW91IGNvbmZpZ3VyZSBmb3IgdGhlIG9mZmVyLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL29mZmVyZGlzY291bnR0eXBlIG9mZmVyRGlzY291bnRUeXBlfVxuICAgICAqKi9cbiAgICBvZmZlckRpc2NvdW50VHlwZT86IE9mZmVyRGlzY291bnRUeXBlIHwgc3RyaW5nXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiB3aW4tYmFjayBvZmZlciBpZGVudGlmaWVycyB0aGF0IGEgY3VzdG9tZXIgaXMgZWxpZ2libGUgdG8gcmVkZWVtLCB3aGljaCBzb3J0cyB0aGUgaWRlbnRpZmllcnMgdG8gcHJlc2VudCB0aGUgYmV0dGVyIG9mZmVycyBmaXJzdC5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9lbGlnaWJsZXdpbmJhY2tvZmZlcmlkcyBlbGlnaWJsZVdpbkJhY2tPZmZlcklkc31cbiAgICAgKiovXG4gICAgZWxpZ2libGVXaW5CYWNrT2ZmZXJJZHM/OiBzdHJpbmdbXVxuXG4gICAgLyoqXG4gICAgICogVGhlIFVVSUQgdGhhdCBhbiBhcHAgb3B0aW9uYWxseSBnZW5lcmF0ZXMgdG8gbWFwIGEgY3VzdG9tZXLigJlzIGluLWFwcCBwdXJjaGFzZSB3aXRoIGl0cyByZXN1bHRpbmcgQXBwIFN0b3JlIHRyYW5zYWN0aW9uLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL2FwcGFjY291bnR0b2tlbiBhcHBBY2NvdW50VG9rZW59XG4gICAgICoqL1xuICAgIGFwcEFjY291bnRUb2tlbj86IHN0cmluZ1xuXG4gICAgLyoqXG4gICAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBhcHAgZG93bmxvYWQgdHJhbnNhY3Rpb24uXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvYXBwVHJhbnNhY3Rpb25JZCBhcHBUcmFuc2FjdGlvbklkfVxuICAgICAqKi9cbiAgICBhcHBUcmFuc2FjdGlvbklkPzogc3RyaW5nXG5cbiAgICAvKipcbiAgICAgKiBUaGUgZHVyYXRpb24gb2YgdGhlIG9mZmVyLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL29mZmVyUGVyaW9kIG9mZmVyUGVyaW9kfVxuICAgICAqKi9cbiAgICBvZmZlclBlcmlvZD86IHN0cmluZ1xufVxuXG5cbmV4cG9ydCBjbGFzcyBKV1NSZW5ld2FsSW5mb0RlY29kZWRQYXlsb2FkVmFsaWRhdG9yIGltcGxlbWVudHMgVmFsaWRhdG9yPEpXU1JlbmV3YWxJbmZvRGVjb2RlZFBheWxvYWQ+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgZW52aXJvbm1lbnRWYWxpZGF0b3IgPSBuZXcgRW52aXJvbm1lbnRWYWxpZGF0b3IoKVxuICAgIHN0YXRpYyByZWFkb25seSBvZmZlclR5cGVWYWxpZGF0b3IgPSBuZXcgT2ZmZXJUeXBlVmFsaWRhdG9yKClcbiAgICBzdGF0aWMgcmVhZG9ubHkgcHJpY2VJbmNyZWFzZVN0YXR1c1ZhbGlkYXRvciA9IG5ldyBQcmljZUluY3JlYXNlU3RhdHVzVmFsaWRhdG9yKClcbiAgICBzdGF0aWMgcmVhZG9ubHkgYXV0b1JlbmV3U3RhdHVzVmFsaWRhdG9yID0gbmV3IEF1dG9SZW5ld1N0YXR1c1ZhbGlkYXRvcigpXG4gICAgc3RhdGljIHJlYWRvbmx5IGV4cGlyYXRpb25JbnRlbnRWYWxpZGF0b3IgPSBuZXcgRXhwaXJhdGlvbkludGVudFZhbGlkYXRvcigpXG4gICAgc3RhdGljIHJlYWRvbmx5IG9mZmVyRGlzY291bnRUeXBlVmFsaWRhdG9yID0gbmV3IE9mZmVyRGlzY291bnRUeXBlVmFsaWRhdG9yKClcbiAgICB2YWxpZGF0ZShvYmo6IGFueSk6IG9iaiBpcyBKV1NSZW5ld2FsSW5mb0RlY29kZWRQYXlsb2FkIHtcbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydleHBpcmF0aW9uSW50ZW50J10gIT09ICd1bmRlZmluZWQnKSAmJiAhKEpXU1JlbmV3YWxJbmZvRGVjb2RlZFBheWxvYWRWYWxpZGF0b3IuZXhwaXJhdGlvbkludGVudFZhbGlkYXRvci52YWxpZGF0ZShvYmpbJ2V4cGlyYXRpb25JbnRlbnQnXSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ29yaWdpbmFsVHJhbnNhY3Rpb25JZCddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydvcmlnaW5hbFRyYW5zYWN0aW9uSWQnXSA9PT0gXCJzdHJpbmdcIiB8fCBvYmpbJ29yaWdpbmFsVHJhbnNhY3Rpb25JZCddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydhdXRvUmVuZXdQcm9kdWN0SWQnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnYXV0b1JlbmV3UHJvZHVjdElkJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydhdXRvUmVuZXdQcm9kdWN0SWQnXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsncHJvZHVjdElkJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ3Byb2R1Y3RJZCddID09PSBcInN0cmluZ1wiIHx8IG9ialsncHJvZHVjdElkJ10gaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ2F1dG9SZW5ld1N0YXR1cyddICE9PSAndW5kZWZpbmVkJykgJiYgIShKV1NSZW5ld2FsSW5mb0RlY29kZWRQYXlsb2FkVmFsaWRhdG9yLmF1dG9SZW5ld1N0YXR1c1ZhbGlkYXRvci52YWxpZGF0ZShvYmpbJ2F1dG9SZW5ld1N0YXR1cyddKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnaXNJbkJpbGxpbmdSZXRyeVBlcmlvZCddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydpc0luQmlsbGluZ1JldHJ5UGVyaW9kJ10gPT09IFwiYm9vbGVhblwiIHx8IG9ialsnaXNJbkJpbGxpbmdSZXRyeVBlcmlvZCddIGluc3RhbmNlb2YgQm9vbGVhbikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsncHJpY2VJbmNyZWFzZVN0YXR1cyddICE9PSAndW5kZWZpbmVkJykgJiYgIShKV1NSZW5ld2FsSW5mb0RlY29kZWRQYXlsb2FkVmFsaWRhdG9yLnByaWNlSW5jcmVhc2VTdGF0dXNWYWxpZGF0b3IudmFsaWRhdGUob2JqWydwcmljZUluY3JlYXNlU3RhdHVzJ10pKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydncmFjZVBlcmlvZEV4cGlyZXNEYXRlJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ2dyYWNlUGVyaW9kRXhwaXJlc0RhdGUnXSA9PT0gXCJudW1iZXJcIikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnb2ZmZXJUeXBlJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKEpXU1JlbmV3YWxJbmZvRGVjb2RlZFBheWxvYWRWYWxpZGF0b3Iub2ZmZXJUeXBlVmFsaWRhdG9yLnZhbGlkYXRlKG9ialsnb2ZmZXJUeXBlJ10pKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydvZmZlcklkZW50aWZpZXInXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnb2ZmZXJJZGVudGlmaWVyJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydvZmZlcklkZW50aWZpZXInXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnc2lnbmVkRGF0ZSddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydzaWduZWREYXRlJ10gPT09IFwibnVtYmVyXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ2Vudmlyb25tZW50J10gIT09ICd1bmRlZmluZWQnKSAmJiAhKEpXU1JlbmV3YWxJbmZvRGVjb2RlZFBheWxvYWRWYWxpZGF0b3IuZW52aXJvbm1lbnRWYWxpZGF0b3IudmFsaWRhdGUob2JqWydlbnZpcm9ubWVudCddKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsncmVjZW50U3Vic2NyaXB0aW9uU3RhcnREYXRlJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ3JlY2VudFN1YnNjcmlwdGlvblN0YXJ0RGF0ZSddID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsncmVuZXdhbERhdGUnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsncmVuZXdhbERhdGUnXSA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ2N1cnJlbmN5J10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ2N1cnJlbmN5J10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydjdXJyZW5jeSddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydyZW5ld2FsUHJpY2UnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsncmVuZXdhbFByaWNlJ10gPT09IFwibnVtYmVyXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ29mZmVyRGlzY291bnRUeXBlJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKEpXU1JlbmV3YWxJbmZvRGVjb2RlZFBheWxvYWRWYWxpZGF0b3Iub2ZmZXJEaXNjb3VudFR5cGVWYWxpZGF0b3IudmFsaWRhdGUob2JqWydvZmZlckRpc2NvdW50VHlwZSddKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqWydlbGlnaWJsZVdpbkJhY2tPZmZlcklkcyddICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9ialsnZWxpZ2libGVXaW5CYWNrT2ZmZXJJZHMnXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxpZ2libGVXaW5CYWNrT2ZmZXJJZCBvZiBvYmpbJ2VsaWdpYmxlV2luQmFja09mZmVySWRzJ10pIHtcbiAgICAgICAgICAgICAgICBpZiAoISh0eXBlb2YgZWxpZ2libGVXaW5CYWNrT2ZmZXJJZCA9PT0gXCJzdHJpbmdcIiB8fCBlbGlnaWJsZVdpbkJhY2tPZmZlcklkIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydhcHBBY2NvdW50VG9rZW4nXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnYXBwQWNjb3VudFRva2VuJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydhcHBBY2NvdW50VG9rZW4nXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnYXBwVHJhbnNhY3Rpb25JZCddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydhcHBUcmFuc2FjdGlvbklkJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydhcHBUcmFuc2FjdGlvbklkJ10gaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ29mZmVyUGVyaW9kJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ29mZmVyUGVyaW9kJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydvZmZlclBlcmlvZCddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG59XG4iXX0=