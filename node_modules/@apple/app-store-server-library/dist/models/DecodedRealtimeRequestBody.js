"use strict";
// Copyright (c) 2025 Apple Inc. Licensed under MIT License.
Object.defineProperty(exports, "__esModule", { value: true });
exports.DecodedRealtimeRequestBodyValidator = void 0;
const Environment_1 = require("./Environment");
class DecodedRealtimeRequestBodyValidator {
    validate(obj) {
        if (!(typeof obj['originalTransactionId'] === "string" || obj['originalTransactionId'] instanceof String)) {
            return false;
        }
        if (!(typeof obj['appAppleId'] === "number")) {
            return false;
        }
        if (!(typeof obj['productId'] === "string" || obj['productId'] instanceof String)) {
            return false;
        }
        if (!(typeof obj['userLocale'] === "string" || obj['userLocale'] instanceof String)) {
            return false;
        }
        if (!(typeof obj['requestIdentifier'] === "string" || obj['requestIdentifier'] instanceof String)) {
            return false;
        }
        if (!(typeof obj['signedDate'] === "number")) {
            return false;
        }
        if (!(DecodedRealtimeRequestBodyValidator.environmentValidator.validate(obj['environment']))) {
            return false;
        }
        return true;
    }
}
exports.DecodedRealtimeRequestBodyValidator = DecodedRealtimeRequestBodyValidator;
DecodedRealtimeRequestBodyValidator.environmentValidator = new Environment_1.EnvironmentValidator();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVjb2RlZFJlYWx0aW1lUmVxdWVzdEJvZHkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9tb2RlbHMvRGVjb2RlZFJlYWx0aW1lUmVxdWVzdEJvZHkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDREQUE0RDs7O0FBRzVELCtDQUFpRTtBQTZEakUsTUFBYSxtQ0FBbUM7SUFFNUMsUUFBUSxDQUFDLEdBQVE7UUFDYixJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxLQUFLLFFBQVEsSUFBSSxHQUFHLENBQUMsdUJBQXVCLENBQUMsWUFBWSxNQUFNLENBQUMsRUFBRSxDQUFDO1lBQ3hHLE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsS0FBSyxRQUFRLENBQUMsRUFBRSxDQUFDO1lBQzNDLE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxXQUFXLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLFdBQVcsQ0FBQyxZQUFZLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDaEYsT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxLQUFLLFFBQVEsSUFBSSxHQUFHLENBQUMsWUFBWSxDQUFDLFlBQVksTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUNsRixPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsbUJBQW1CLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLG1CQUFtQixDQUFDLFlBQVksTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUNoRyxPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsWUFBWSxDQUFDLEtBQUssUUFBUSxDQUFDLEVBQUUsQ0FBQztZQUMzQyxPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLENBQUMsbUNBQW1DLENBQUMsb0JBQW9CLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUMzRixPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsT0FBTyxJQUFJLENBQUE7SUFDZixDQUFDOztBQXpCTCxrRkEwQkM7QUF6Qm1CLHdEQUFvQixHQUFHLElBQUksa0NBQW9CLEVBQUUsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAyNSBBcHBsZSBJbmMuIExpY2Vuc2VkIHVuZGVyIE1JVCBMaWNlbnNlLlxuXG5pbXBvcnQgeyBEZWNvZGVkU2lnbmVkRGF0YSB9IGZyb20gXCIuL0RlY29kZWRTaWduZWREYXRhXCJcbmltcG9ydCB7IEVudmlyb25tZW50LCBFbnZpcm9ubWVudFZhbGlkYXRvciB9IGZyb20gXCIuL0Vudmlyb25tZW50XCJcbmltcG9ydCB7IFZhbGlkYXRvciB9IGZyb20gXCIuL1ZhbGlkYXRvclwiXG5cbi8qKlxuICogVGhlIGRlY29kZWQgcmVxdWVzdCBib2R5IHRoZSBBcHAgU3RvcmUgc2VuZHMgdG8geW91ciBzZXJ2ZXIgdG8gcmVxdWVzdCBhIHJlYWwtdGltZSByZXRlbnRpb24gbWVzc2FnZS5cbiAqXG4gKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vcmV0ZW50aW9ubWVzc2FnaW5nL2RlY29kZWRyZWFsdGltZXJlcXVlc3Rib2R5IERlY29kZWRSZWFsdGltZVJlcXVlc3RCb2R5fVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERlY29kZWRSZWFsdGltZVJlcXVlc3RCb2R5IGV4dGVuZHMgRGVjb2RlZFNpZ25lZERhdGEge1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9yaWdpbmFsIHRyYW5zYWN0aW9uIGlkZW50aWZpZXIgb2YgdGhlIGN1c3RvbWVyJ3Mgc3Vic2NyaXB0aW9uLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL3JldGVudGlvbm1lc3NhZ2luZy9vcmlnaW5hbHRyYW5zYWN0aW9uaWQgb3JpZ2luYWxUcmFuc2FjdGlvbklkfVxuICAgICAqKi9cbiAgICBvcmlnaW5hbFRyYW5zYWN0aW9uSWQ6IHN0cmluZ1xuXG4gICAgLyoqXG4gICAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBhcHAgaW4gdGhlIEFwcCBTdG9yZS5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9yZXRlbnRpb25tZXNzYWdpbmcvYXBwYXBwbGVpZCBhcHBBcHBsZUlkfVxuICAgICAqKi9cbiAgICBhcHBBcHBsZUlkOiBudW1iZXJcblxuICAgIC8qKlxuICAgICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgYXV0by1yZW5ld2FibGUgc3Vic2NyaXB0aW9uLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL3JldGVudGlvbm1lc3NhZ2luZy9wcm9kdWN0aWQgcHJvZHVjdElkfVxuICAgICAqKi9cbiAgICBwcm9kdWN0SWQ6IHN0cmluZ1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRldmljZSdzIGxvY2FsZS5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9yZXRlbnRpb25tZXNzYWdpbmcvbG9jYWxlIGxvY2FsZX1cbiAgICAgKiovXG4gICAgdXNlckxvY2FsZTogc3RyaW5nXG5cbiAgICAvKipcbiAgICAgKiBBIFVVSUQgdGhlIEFwcCBTdG9yZSBzZXJ2ZXIgY3JlYXRlcyB0byB1bmlxdWVseSBpZGVudGlmeSBlYWNoIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vcmV0ZW50aW9ubWVzc2FnaW5nL3JlcXVlc3RpZGVudGlmaWVyIHJlcXVlc3RJZGVudGlmaWVyfVxuICAgICAqKi9cbiAgICByZXF1ZXN0SWRlbnRpZmllcjogc3RyaW5nXG5cbiAgICAvKipcbiAgICAgKiBUaGUgVU5JWCB0aW1lLCBpbiBtaWxsaXNlY29uZHMsIHRoYXQgdGhlIEFwcCBTdG9yZSBzaWduZWQgdGhlIEpTT04gV2ViIFNpZ25hdHVyZSAoSldTKSBkYXRhLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL3JldGVudGlvbm1lc3NhZ2luZy9zaWduZWRkYXRlIHNpZ25lZERhdGV9XG4gICAgICoqL1xuICAgIHNpZ25lZERhdGU6IG51bWJlclxuXG4gICAgLyoqXG4gICAgICogVGhlIHNlcnZlciBlbnZpcm9ubWVudCwgZWl0aGVyIHNhbmRib3ggb3IgcHJvZHVjdGlvbi5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9yZXRlbnRpb25tZXNzYWdpbmcvZW52aXJvbm1lbnQgZW52aXJvbm1lbnR9XG4gICAgICoqL1xuICAgIGVudmlyb25tZW50OiBFbnZpcm9ubWVudCB8IHN0cmluZ1xufVxuXG5cbmV4cG9ydCBjbGFzcyBEZWNvZGVkUmVhbHRpbWVSZXF1ZXN0Qm9keVZhbGlkYXRvciBpbXBsZW1lbnRzIFZhbGlkYXRvcjxEZWNvZGVkUmVhbHRpbWVSZXF1ZXN0Qm9keT4ge1xuICAgIHN0YXRpYyByZWFkb25seSBlbnZpcm9ubWVudFZhbGlkYXRvciA9IG5ldyBFbnZpcm9ubWVudFZhbGlkYXRvcigpXG4gICAgdmFsaWRhdGUob2JqOiBhbnkpOiBvYmogaXMgRGVjb2RlZFJlYWx0aW1lUmVxdWVzdEJvZHkge1xuICAgICAgICBpZiAoISh0eXBlb2Ygb2JqWydvcmlnaW5hbFRyYW5zYWN0aW9uSWQnXSA9PT0gXCJzdHJpbmdcIiB8fCBvYmpbJ29yaWdpbmFsVHJhbnNhY3Rpb25JZCddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodHlwZW9mIG9ialsnYXBwQXBwbGVJZCddID09PSBcIm51bWJlclwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodHlwZW9mIG9ialsncHJvZHVjdElkJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydwcm9kdWN0SWQnXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICghKHR5cGVvZiBvYmpbJ3VzZXJMb2NhbGUnXSA9PT0gXCJzdHJpbmdcIiB8fCBvYmpbJ3VzZXJMb2NhbGUnXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICghKHR5cGVvZiBvYmpbJ3JlcXVlc3RJZGVudGlmaWVyJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydyZXF1ZXN0SWRlbnRpZmllciddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodHlwZW9mIG9ialsnc2lnbmVkRGF0ZSddID09PSBcIm51bWJlclwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoRGVjb2RlZFJlYWx0aW1lUmVxdWVzdEJvZHlWYWxpZGF0b3IuZW52aXJvbm1lbnRWYWxpZGF0b3IudmFsaWRhdGUob2JqWydlbnZpcm9ubWVudCddKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxufVxuIl19