"use strict";
// Copyright (c) 2023 Apple Inc. Licensed under MIT License.
Object.defineProperty(exports, "__esModule", { value: true });
const AccountTenure_1 = require("../../models/AccountTenure");
const ConsumptionStatus_1 = require("../../models/ConsumptionStatus");
const DeliveryStatus_1 = require("../../models/DeliveryStatus");
const Environment_1 = require("../../models/Environment");
const LifetimeDollarsPurchased_1 = require("../../models/LifetimeDollarsPurchased");
const LifetimeDollarsRefunded_1 = require("../../models/LifetimeDollarsRefunded");
const NotificationTypeV2_1 = require("../../models/NotificationTypeV2");
const Platform_1 = require("../../models/Platform");
const PlayTime_1 = require("../../models/PlayTime");
const Status_1 = require("../../models/Status");
const Subtype_1 = require("../../models/Subtype");
const UserStatus_1 = require("../../models/UserStatus");
const util_1 = require("../util");
const InAppOwnershipType_1 = require("../../models/InAppOwnershipType");
const RefundPreference_1 = require("../../models/RefundPreference");
const index_1 = require("../../index");
const node_fetch_1 = require("node-fetch");
const jsonwebtoken = require("jsonwebtoken");
class AppStoreServerAPIClientForTest extends index_1.AppStoreServerAPIClient {
    constructor(signingKey, keyId, issuerId, bundleId, environment, callback, body, statusCode) {
        super(signingKey, keyId, issuerId, bundleId, environment);
        this.callback = callback;
        this.body = body;
        this.statusCode = statusCode;
    }
    async makeFetchRequest(path, parsedQueryParameters, method, requestBody, headers) {
        // Check Content-Type based on body type
        if (requestBody instanceof Buffer) {
            expect(headers['Content-Type']).toBe('image/png');
        }
        else if (requestBody !== undefined) {
            expect(typeof requestBody).toBe('string');
            expect(headers['Content-Type']).toBe('application/json');
        }
        else {
            expect(headers['Content-Type']).toBeUndefined();
        }
        expect('application/json').toBe(headers['Accept']);
        expect(headers['Authorization']).toMatch(/^Bearer .+/);
        const token = headers['Authorization'].substring(7);
        const decodedToken = jsonwebtoken.decode(token);
        expect(decodedToken['bid']).toBe('bundleId');
        expect(decodedToken['aud']).toBe('appstoreconnect-v1');
        expect(decodedToken['iss']).toBe('issuerId');
        expect(headers['User-Agent']).toMatch(/^app-store-server-library\/node\/.+/);
        this.callback(path, parsedQueryParameters, method, requestBody, headers);
        return Promise.resolve(new node_fetch_1.Response(this.body, {
            status: this.statusCode
        }));
    }
}
function getClientWithBody(path, callback, statusCode = 200) {
    const body = (0, util_1.readFile)(path);
    return getAppStoreServerAPIClient(body, statusCode, callback);
}
function getAppStoreServerAPIClient(body, statusCode, callback) {
    const key = getSigningKey();
    return new AppStoreServerAPIClientForTest(key, "keyId", "issuerId", "bundleId", Environment_1.Environment.LOCAL_TESTING, callback, body, statusCode);
}
function getSigningKey() {
    return (0, util_1.readFile)('tests/resources/certs/testSigningKey.p8');
}
describe('The api client ', () => {
    it('calls extendRenewalDateForAllActiveSubscribers', async () => {
        const client = getClientWithBody("tests/resources/models/extendRenewalDateForAllActiveSubscribersResponse.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("POST").toBe(method);
            expect("/inApps/v1/subscriptions/extend/mass").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeTruthy();
            expect(typeof requestBody).toBe('string');
            const body = JSON.parse(requestBody);
            expect(45).toBe(body.extendByDays);
            expect(1).toBe(body.extendReasonCode);
            expect("fdf964a4-233b-486c-aac1-97d8d52688ac").toBe(body.requestIdentifier);
            expect(["USA", "MEX"]).toStrictEqual(body.storefrontCountryCodes);
            expect("com.example.productId").toBe(body.productId);
        });
        const extendRenewalDateRequest = {
            extendByDays: 45,
            extendReasonCode: index_1.ExtendReasonCode.CUSTOMER_SATISFACTION,
            requestIdentifier: "fdf964a4-233b-486c-aac1-97d8d52688ac",
            storefrontCountryCodes: ["USA", "MEX"],
            productId: "com.example.productId"
        };
        const massExtendRenewalDateResponse = await client.extendRenewalDateForAllActiveSubscribers(extendRenewalDateRequest);
        expect(massExtendRenewalDateResponse).toBeTruthy();
        expect("758883e8-151b-47b7-abd0-60c4d804c2f5").toBe(massExtendRenewalDateResponse.requestIdentifier);
    });
    it('calls extendSubscriptionRenewalDate', async () => {
        const client = getClientWithBody("tests/resources/models/extendSubscriptionRenewalDateResponse.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("PUT").toBe(method);
            expect("/inApps/v1/subscriptions/extend/4124214").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeTruthy();
            expect(typeof requestBody).toBe('string');
            const body = JSON.parse(requestBody);
            expect(45).toBe(body.extendByDays);
            expect(1).toBe(body.extendReasonCode);
            expect("fdf964a4-233b-486c-aac1-97d8d52688ac").toBe(body.requestIdentifier);
        });
        const extendRenewalDateRequest = {
            extendByDays: 45,
            extendReasonCode: index_1.ExtendReasonCode.CUSTOMER_SATISFACTION,
            requestIdentifier: "fdf964a4-233b-486c-aac1-97d8d52688ac"
        };
        const extendRenewalDateResponse = await client.extendSubscriptionRenewalDate("4124214", extendRenewalDateRequest);
        expect(extendRenewalDateResponse).toBeTruthy();
        expect("2312412").toBe(extendRenewalDateResponse.originalTransactionId);
        expect("9993").toBe(extendRenewalDateResponse.webOrderLineItemId);
        expect(extendRenewalDateResponse.success).toBe(true);
        expect(1698148900000).toBe(extendRenewalDateResponse.effectiveDate);
    });
    it('calls getAllSubscriptionStatuses', async () => {
        const client = getClientWithBody("tests/resources/models/getAllSubscriptionStatusesResponse.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v1/subscriptions/4321").toBe(path);
            expect(["2", "1"]).toStrictEqual(parsedQueryParameters.getAll("status"));
            expect(requestBody).toBeUndefined();
        });
        const statusResponse = await client.getAllSubscriptionStatuses("4321", [Status_1.Status.EXPIRED, Status_1.Status.ACTIVE]);
        expect(statusResponse).toBeTruthy();
        expect(Environment_1.Environment.LOCAL_TESTING).toBe(statusResponse.environment);
        expect("com.example").toBe(statusResponse.bundleId);
        expect(5454545).toBe(statusResponse.appAppleId);
        const item = [
            {
                subscriptionGroupIdentifier: 'sub_group_one',
                lastTransactions: [
                    {
                        status: Status_1.Status.ACTIVE,
                        originalTransactionId: "3749183",
                        signedTransactionInfo: "signed_transaction_one",
                        signedRenewalInfo: "signed_renewal_one"
                    },
                    {
                        status: Status_1.Status.REVOKED,
                        originalTransactionId: "5314314134",
                        signedTransactionInfo: "signed_transaction_two",
                        signedRenewalInfo: "signed_renewal_two"
                    }
                ]
            },
            {
                subscriptionGroupIdentifier: "sub_group_two",
                lastTransactions: [
                    {
                        status: Status_1.Status.EXPIRED,
                        originalTransactionId: "3413453",
                        signedTransactionInfo: "signed_transaction_three",
                        signedRenewalInfo: "signed_renewal_three"
                    }
                ]
            }
        ];
        expect(statusResponse.data).toStrictEqual(item);
    });
    it('calls getRefundHistory', async () => {
        const client = getClientWithBody("tests/resources/models/getRefundHistoryResponse.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v2/refund/lookup/555555").toBe(path);
            expect("revision_input").toBe(parsedQueryParameters.get("revision"));
            expect(requestBody).toBeUndefined();
        });
        const refundHistoryResponse = await client.getRefundHistory("555555", "revision_input");
        expect(refundHistoryResponse).toBeTruthy();
        expect(["signed_transaction_one", "signed_transaction_two"]).toStrictEqual(refundHistoryResponse.signedTransactions);
        expect("revision_output").toBe(refundHistoryResponse.revision);
        expect(refundHistoryResponse.hasMore).toBe(true);
    });
    it('calls getStatusOfSubscriptionRenewalDateExtensions', async () => {
        const client = getClientWithBody("tests/resources/models/getStatusOfSubscriptionRenewalDateExtensionsResponse.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v1/subscriptions/extend/mass/20fba8a0-2b80-4a7d-a17f-85c1854727f8/com.example.product").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        });
        const massExtendRenewalDateStatusResponse = await client.getStatusOfSubscriptionRenewalDateExtensions("com.example.product", "20fba8a0-2b80-4a7d-a17f-85c1854727f8");
        expect(massExtendRenewalDateStatusResponse).toBeTruthy();
        expect("20fba8a0-2b80-4a7d-a17f-85c1854727f8").toBe(massExtendRenewalDateStatusResponse.requestIdentifier);
        expect(massExtendRenewalDateStatusResponse.complete).toBe(true);
        expect(1698148900000).toBe(massExtendRenewalDateStatusResponse.completeDate);
        expect(30).toBe(massExtendRenewalDateStatusResponse.succeededCount);
        expect(2).toBe(massExtendRenewalDateStatusResponse.failedCount);
    });
    it('calls getTestNotificationStatus', async () => {
        const client = getClientWithBody("tests/resources/models/getTestNotificationStatusResponse.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v1/notifications/test/8cd2974c-f905-492a-bf9a-b2f47c791d19").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        });
        const checkTestNotificationResponse = await client.getTestNotificationStatus("8cd2974c-f905-492a-bf9a-b2f47c791d19");
        expect(checkTestNotificationResponse).toBeTruthy();
        expect("signed_payload").toBe(checkTestNotificationResponse.signedPayload);
        const sendAttemptItems = [
            {
                attemptDate: 1698148900000,
                sendAttemptResult: index_1.SendAttemptResult.NO_RESPONSE
            },
            {
                attemptDate: 1698148950000,
                sendAttemptResult: index_1.SendAttemptResult.SUCCESS
            }
        ];
        expect(sendAttemptItems).toStrictEqual(checkTestNotificationResponse.sendAttempts);
    });
    it('calls getNotificationHistoryResponse', async () => {
        const client = getClientWithBody("tests/resources/models/getNotificationHistoryResponse.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("POST").toBe(method);
            expect("/inApps/v1/notifications/history").toBe(path);
            expect("a036bc0e-52b8-4bee-82fc-8c24cb6715d6").toBe(parsedQueryParameters.get("paginationToken"));
            expect(requestBody).toBeTruthy();
            expect(typeof requestBody).toBe('string');
            const body = JSON.parse(requestBody);
            expect(1698148900000).toBe(body.startDate);
            expect(1698148950000).toBe(body.endDate);
            expect("SUBSCRIBED").toBe(body.notificationType);
            expect("INITIAL_BUY").toBe(body.notificationSubtype);
            expect("999733843").toBe(body.transactionId);
            expect(body.onlyFailures).toBe(true);
        });
        const notificationHistoryRequest = {
            startDate: 1698148900000,
            endDate: 1698148950000,
            notificationType: NotificationTypeV2_1.NotificationTypeV2.SUBSCRIBED,
            notificationSubtype: Subtype_1.Subtype.INITIAL_BUY,
            transactionId: "999733843",
            onlyFailures: true
        };
        const notificationHistoryResponse = await client.getNotificationHistory("a036bc0e-52b8-4bee-82fc-8c24cb6715d6", notificationHistoryRequest);
        expect(notificationHistoryResponse).toBeTruthy();
        expect("57715481-805a-4283-8499-1c19b5d6b20a").toBe(notificationHistoryResponse.paginationToken);
        expect(notificationHistoryResponse.hasMore).toBe(true);
        const expectedNotificationHistory = [
            {
                sendAttempts: [
                    {
                        attemptDate: 1698148900000,
                        sendAttemptResult: index_1.SendAttemptResult.NO_RESPONSE
                    },
                    {
                        attemptDate: 1698148950000,
                        sendAttemptResult: index_1.SendAttemptResult.SUCCESS
                    }
                ],
                signedPayload: "signed_payload_one"
            },
            {
                sendAttempts: [
                    {
                        attemptDate: 1698148800000,
                        sendAttemptResult: index_1.SendAttemptResult.CIRCULAR_REDIRECT
                    }
                ],
                signedPayload: "signed_payload_two"
            }
        ];
        expect(expectedNotificationHistory).toStrictEqual(notificationHistoryResponse.notificationHistory);
    });
    it('calls getTransactionHistory V1', async () => {
        const client = getClientWithBody("tests/resources/models/transactionHistoryResponse.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v1/history/1234").toBe(path);
            expect("revision_input").toBe(parsedQueryParameters.get("revision"));
            expect("123455").toBe(parsedQueryParameters.get("startDate"));
            expect("123456").toBe(parsedQueryParameters.get("endDate"));
            expect(["com.example.1", "com.example.2"]).toStrictEqual(parsedQueryParameters.getAll("productId"));
            expect(["CONSUMABLE", "AUTO_RENEWABLE"]).toStrictEqual(parsedQueryParameters.getAll("productType"));
            expect("ASCENDING").toBe(parsedQueryParameters.get("sort"));
            expect(["sub_group_id", "sub_group_id_2"]).toStrictEqual(parsedQueryParameters.getAll("subscriptionGroupIdentifier"));
            expect("FAMILY_SHARED").toBe(parsedQueryParameters.get("inAppOwnershipType"));
            expect("false").toBe(parsedQueryParameters.get("revoked"));
            expect(requestBody).toBeUndefined();
        });
        const request = {
            sort: index_1.Order.ASCENDING,
            productTypes: [index_1.ProductType.CONSUMABLE, index_1.ProductType.AUTO_RENEWABLE],
            endDate: 123456,
            startDate: 123455,
            revoked: false,
            inAppOwnershipType: InAppOwnershipType_1.InAppOwnershipType.FAMILY_SHARED,
            productIds: ["com.example.1", "com.example.2"],
            subscriptionGroupIdentifiers: ["sub_group_id", "sub_group_id_2"]
        };
        const historyResponse = await client.getTransactionHistory("1234", "revision_input", request, index_1.GetTransactionHistoryVersion.V1);
        expect(historyResponse).toBeTruthy();
        expect("revision_output").toBe(historyResponse.revision);
        expect(historyResponse.hasMore).toBe(true);
        expect("com.example").toBe(historyResponse.bundleId);
        expect(323232).toBe(historyResponse.appAppleId);
        expect(Environment_1.Environment.LOCAL_TESTING).toBe(historyResponse.environment);
        expect(["signed_transaction_value", "signed_transaction_value2"]).toStrictEqual(historyResponse.signedTransactions);
    });
    it('calls getTransactionHistory V2', async () => {
        const client = getClientWithBody("tests/resources/models/transactionHistoryResponse.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v2/history/1234").toBe(path);
            expect("revision_input").toBe(parsedQueryParameters.get("revision"));
            expect("123455").toBe(parsedQueryParameters.get("startDate"));
            expect("123456").toBe(parsedQueryParameters.get("endDate"));
            expect(["com.example.1", "com.example.2"]).toStrictEqual(parsedQueryParameters.getAll("productId"));
            expect(["CONSUMABLE", "AUTO_RENEWABLE"]).toStrictEqual(parsedQueryParameters.getAll("productType"));
            expect("ASCENDING").toBe(parsedQueryParameters.get("sort"));
            expect(["sub_group_id", "sub_group_id_2"]).toStrictEqual(parsedQueryParameters.getAll("subscriptionGroupIdentifier"));
            expect("FAMILY_SHARED").toBe(parsedQueryParameters.get("inAppOwnershipType"));
            expect("false").toBe(parsedQueryParameters.get("revoked"));
            expect(requestBody).toBeUndefined();
        });
        const request = {
            sort: index_1.Order.ASCENDING,
            productTypes: [index_1.ProductType.CONSUMABLE, index_1.ProductType.AUTO_RENEWABLE],
            endDate: 123456,
            startDate: 123455,
            revoked: false,
            inAppOwnershipType: InAppOwnershipType_1.InAppOwnershipType.FAMILY_SHARED,
            productIds: ["com.example.1", "com.example.2"],
            subscriptionGroupIdentifiers: ["sub_group_id", "sub_group_id_2"]
        };
        const historyResponse = await client.getTransactionHistory("1234", "revision_input", request, index_1.GetTransactionHistoryVersion.V2);
        expect(historyResponse).toBeTruthy();
        expect("revision_output").toBe(historyResponse.revision);
        expect(historyResponse.hasMore).toBe(true);
        expect("com.example").toBe(historyResponse.bundleId);
        expect(323232).toBe(historyResponse.appAppleId);
        expect(Environment_1.Environment.LOCAL_TESTING).toBe(historyResponse.environment);
        expect(["signed_transaction_value", "signed_transaction_value2"]).toStrictEqual(historyResponse.signedTransactions);
    });
    it('calls getTransactionInfo', async () => {
        const client = getClientWithBody("tests/resources/models/transactionInfoResponse.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v1/transactions/1234").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        });
        const transactionInfoResponse = await client.getTransactionInfo("1234");
        expect(transactionInfoResponse).toBeTruthy();
        expect("signed_transaction_info_value").toBe(transactionInfoResponse.signedTransactionInfo);
    });
    it('calls lookUpOrderId', async () => {
        const client = getClientWithBody("tests/resources/models/lookupOrderIdResponse.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v1/lookup/W002182").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        });
        const orderLookupResponse = await client.lookUpOrderId("W002182");
        expect(orderLookupResponse).toBeTruthy();
        expect(index_1.OrderLookupStatus.INVALID).toBe(orderLookupResponse.status);
        expect(["signed_transaction_one", "signed_transaction_two"]).toStrictEqual(orderLookupResponse.signedTransactions);
    });
    it('calls requestTestNotification', async () => {
        const client = getClientWithBody("tests/resources/models/requestTestNotificationResponse.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("POST").toBe(method);
            expect("/inApps/v1/notifications/test").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        });
        const sendTestNotificationResponse = await client.requestTestNotification();
        expect(sendTestNotificationResponse).toBeTruthy();
        expect("ce3af791-365e-4c60-841b-1674b43c1609").toBe(sendTestNotificationResponse.testNotificationToken);
    });
    it('calls sendConsumptionData', async () => {
        const client = getAppStoreServerAPIClient("", 200, (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("PUT").toBe(method);
            expect("/inApps/v1/transactions/consumption/49571273").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeTruthy();
            expect(typeof requestBody).toBe('string');
            const body = JSON.parse(requestBody);
            expect(body.customerConsented).toBe(true);
            expect(1).toBe(body.consumptionStatus);
            expect(2).toBe(body.platform);
            expect(body.sampleContentProvided).toBe(false);
            expect(3).toBe(body.deliveryStatus);
            expect("7389a31a-fb6d-4569-a2a6-db7d85d84813").toBe(body.appAccountToken);
            expect(4).toBe(body.accountTenure);
            expect(5).toBe(body.playTime);
            expect(6).toBe(body.lifetimeDollarsRefunded);
            expect(7).toBe(body.lifetimeDollarsPurchased);
            expect(4).toBe(body.userStatus);
            expect(3).toBe(body.refundPreference);
        });
        const consumptionRequest = {
            customerConsented: true,
            consumptionStatus: ConsumptionStatus_1.ConsumptionStatus.NOT_CONSUMED,
            platform: Platform_1.Platform.NON_APPLE,
            sampleContentProvided: false,
            deliveryStatus: DeliveryStatus_1.DeliveryStatus.DID_NOT_DELIVER_DUE_TO_SERVER_OUTAGE,
            appAccountToken: "7389a31a-fb6d-4569-a2a6-db7d85d84813",
            accountTenure: AccountTenure_1.AccountTenure.THIRTY_DAYS_TO_NINETY_DAYS,
            playTime: PlayTime_1.PlayTime.ONE_DAY_TO_FOUR_DAYS,
            lifetimeDollarsRefunded: LifetimeDollarsRefunded_1.LifetimeDollarsRefunded.ONE_THOUSAND_DOLLARS_TO_ONE_THOUSAND_NINE_HUNDRED_NINETY_NINE_DOLLARS_AND_NINETY_NINE_CENTS,
            lifetimeDollarsPurchased: LifetimeDollarsPurchased_1.LifetimeDollarsPurchased.TWO_THOUSAND_DOLLARS_OR_GREATER,
            userStatus: UserStatus_1.UserStatus.LIMITED_ACCESS,
            refundPreference: RefundPreference_1.RefundPreference.NO_PREFERENCE
        };
        client.sendConsumptionData("49571273", consumptionRequest);
    });
    it('calls getTransactionInfo but receives a general internal error', async () => {
        const client = getClientWithBody("tests/resources/models/apiException.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v1/transactions/1234").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        }, 500);
        try {
            const transactionInfoResponse = await client.getTransactionInfo("1234");
            fail('this test call is expected to throw');
        }
        catch (e) {
            let error = e;
            expect(error.httpStatusCode).toBe(500);
            expect(error.apiError).toBe(index_1.APIError.GENERAL_INTERNAL);
            expect(error.errorMessage).toBe("An unknown error occurred.");
        }
    });
    it('calls getTransactionInfo but receives a rate limit exceeded error', async () => {
        const client = getClientWithBody("tests/resources/models/apiTooManyRequestsException.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v1/transactions/1234").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        }, 429);
        try {
            const transactionInfoResponse = await client.getTransactionInfo("1234");
            fail('this test call is expected to throw');
        }
        catch (e) {
            let error = e;
            expect(error.httpStatusCode).toBe(429);
            expect(error.apiError).toBe(index_1.APIError.RATE_LIMIT_EXCEEDED);
            expect(error.errorMessage).toBe("Rate limit exceeded.");
        }
    });
    it('calls getTransactionInfo but receives an unknown/new error code', async () => {
        const client = getClientWithBody("tests/resources/models/apiUnknownError.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v1/transactions/1234").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        }, 400);
        try {
            const transactionInfoResponse = await client.getTransactionInfo("1234");
            fail('this test call is expected to throw');
        }
        catch (e) {
            let error = e;
            expect(error.httpStatusCode).toBe(400);
            expect(error.apiError).toBe(9990000);
            expect(error.errorMessage).toBe("Testing error.");
        }
    });
    it('calls getTransactionHistory but receives an unknown environment', async () => {
        const client = getClientWithBody("tests/resources/models/transactionHistoryResponseWithMalformedEnvironment.json", (path, parsedQueryParameters, method, requestBody, headers) => {
        });
        const request = {
            sort: index_1.Order.ASCENDING,
            productTypes: [index_1.ProductType.CONSUMABLE, index_1.ProductType.AUTO_RENEWABLE],
            endDate: 123456,
            startDate: 123455,
            revoked: false,
            inAppOwnershipType: InAppOwnershipType_1.InAppOwnershipType.FAMILY_SHARED,
            productIds: ["com.example.1", "com.example.2"],
            subscriptionGroupIdentifiers: ["sub_group_id", "sub_group_id_2"]
        };
        const historyResponse = await client.getTransactionHistory("1234", "revision_input", request, index_1.GetTransactionHistoryVersion.V2);
        expect(historyResponse.environment).toBe("LocalTestingxxx");
    });
    it('calls getTransactionHistory but receives a malformed appAppleId', async () => {
        const client = getClientWithBody("tests/resources/models/transactionHistoryResponseWithMalformedAppAppleId.json", (path, parsedQueryParameters, method, requestBody, headers) => {
        });
        const request = {
            sort: index_1.Order.ASCENDING,
            productTypes: [index_1.ProductType.CONSUMABLE, index_1.ProductType.AUTO_RENEWABLE],
            endDate: 123456,
            startDate: 123455,
            revoked: false,
            inAppOwnershipType: InAppOwnershipType_1.InAppOwnershipType.FAMILY_SHARED,
            productIds: ["com.example.1", "com.example.2"],
            subscriptionGroupIdentifiers: ["sub_group_id", "sub_group_id_2"]
        };
        try {
            await client.getTransactionHistory("1234", "revision_input", request);
            fail('this test call is expected to throw');
        }
        catch (e) {
            return;
        }
    });
    it('throws an error when the XCODE environment is passed', async () => {
        try {
            const key = getSigningKey();
            new index_1.AppStoreServerAPIClient(key, "keyId", "issuerId", "bundleId", Environment_1.Environment.XCODE);
            fail('this test call is expected to throw');
        }
        catch (e) {
            let error = e;
            expect(error.message).toBe("Xcode is not a supported environment for an AppStoreServerAPIClient");
        }
    });
    it('calls setAppAccountToken', async () => {
        const client = getAppStoreServerAPIClient("", 200, (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("PUT").toBe(method);
            expect("/inApps/v1/transactions/49571273/appAccountToken").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeTruthy();
            expect(typeof requestBody).toBe('string');
            const body = JSON.parse(requestBody);
            expect("7389a31a-fb6d-4569-a2a6-db7d85d84813").toBe(body.appAccountToken);
        });
        const updateAppAccountTokenRequest = {
            appAccountToken: "7389a31a-fb6d-4569-a2a6-db7d85d84813"
        };
        client.setAppAccountToken("49571273", updateAppAccountTokenRequest);
    });
    it('calls setAppAccountToken but receives an invalid UUID error', async () => {
        const client = getClientWithBody("tests/resources/models/invalidAppAccountTokenUUIDError.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("PUT").toBe(method);
            expect("/inApps/v1/transactions/49571273/appAccountToken").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeTruthy();
        }, 400);
        try {
            const updateAppAccountTokenRequest = {
                appAccountToken: "abc"
            };
            await client.setAppAccountToken("49571273", updateAppAccountTokenRequest);
            fail('this test call is expected to throw');
        }
        catch (e) {
            let error = e;
            expect(error.httpStatusCode).toBe(400);
            expect(error.apiError).toBe(4000183);
            expect(error.errorMessage).toBe("Invalid request. The app account token field must be a valid UUID.");
        }
    });
    it('calls setAppAccountToken but receives family transaction not supported error', async () => {
        const client = getClientWithBody("tests/resources/models/familyTransactionNotSupportedError.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("PUT").toBe(method);
            expect("/inApps/v1/transactions/1234/appAccountToken").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeTruthy();
        }, 400);
        try {
            const updateAppAccountTokenRequest = {
                appAccountToken: "7389a31a-fb6d-4569-a2a6-db7d85d84813"
            };
            await client.setAppAccountToken("1234", updateAppAccountTokenRequest);
            fail('this test call is expected to throw');
        }
        catch (e) {
            let error = e;
            expect(error.httpStatusCode).toBe(400);
            expect(error.apiError).toBe(4000185);
            expect(error.errorMessage).toBe("Invalid request. Family Sharing transactions aren't supported by this endpoint.");
        }
    });
    it('calls setAppAccountToken but transactionId not originalTransactionId error', async () => {
        const client = getClientWithBody("tests/resources/models/transactionIdNotOriginalTransactionId.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("PUT").toBe(method);
            expect("/inApps/v1/transactions/1234/appAccountToken").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeTruthy();
        }, 400);
        try {
            const updateAppAccountTokenRequest = {
                appAccountToken: "7389a31a-fb6d-4569-a2a6-db7d85d84813"
            };
            await client.setAppAccountToken("1234", updateAppAccountTokenRequest);
            fail('this test call is expected to throw');
        }
        catch (e) {
            let error = e;
            expect(error.httpStatusCode).toBe(400);
            expect(error.apiError).toBe(4000187);
            expect(error.errorMessage).toBe("Invalid request. The transaction ID provided is not an original transaction ID.");
        }
    });
    it('calls uploadImage', async () => {
        const client = getAppStoreServerAPIClient("", 200, (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("PUT").toBe(method);
            expect("/inApps/v1/messaging/image/a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeTruthy();
            expect(requestBody).toBeInstanceOf(Buffer);
            expect(Buffer.from([1, 2, 3])).toEqual(requestBody);
        });
        await client.uploadImage("a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890", Buffer.from([1, 2, 3]));
    });
    it('calls deleteImage', async () => {
        const client = getAppStoreServerAPIClient("", 200, (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("DELETE").toBe(method);
            expect("/inApps/v1/messaging/image/a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        });
        await client.deleteImage("a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890");
    });
    it('calls getImageList', async () => {
        const client = getClientWithBody("tests/resources/models/getImageListResponse.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v1/messaging/image/list").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        });
        const response = await client.getImageList();
        expect(response).toBeTruthy();
        expect(response.imageIdentifiers).toBeDefined();
        expect(response.imageIdentifiers?.length).toBe(1);
        expect(response.imageIdentifiers?.[0].imageIdentifier).toBe("a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890");
        expect(response.imageIdentifiers?.[0].imageState).toBe("APPROVED");
    });
    it('calls uploadMessage', async () => {
        const client = getAppStoreServerAPIClient("", 200, (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("PUT").toBe(method);
            expect("/inApps/v1/messaging/message/a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeTruthy();
            expect(typeof requestBody).toBe('string');
            const body = JSON.parse(requestBody);
            expect("Header text").toBe(body.header);
            expect("Body text").toBe(body.body);
            expect(body.image).toBeUndefined();
        });
        const uploadMessageRequestBody = {
            header: "Header text",
            body: "Body text"
        };
        await client.uploadMessage("a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890", uploadMessageRequestBody);
    });
    it('calls uploadMessage with image', async () => {
        const client = getAppStoreServerAPIClient("", 200, (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("PUT").toBe(method);
            expect("/inApps/v1/messaging/message/a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeTruthy();
            expect(typeof requestBody).toBe('string');
            const body = JSON.parse(requestBody);
            expect("Header text").toBe(body.header);
            expect("Body text").toBe(body.body);
            expect(body.image).toBeDefined();
            expect("b2c3d4e5-f6a7-8901-b2c3-d4e5f6a78901").toBe(body.image.imageIdentifier);
            expect("Alt text").toBe(body.image.altText);
        });
        const uploadMessageRequestBody = {
            header: "Header text",
            body: "Body text",
            image: {
                imageIdentifier: "b2c3d4e5-f6a7-8901-b2c3-d4e5f6a78901",
                altText: "Alt text"
            }
        };
        await client.uploadMessage("a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890", uploadMessageRequestBody);
    });
    it('calls deleteMessage', async () => {
        const client = getAppStoreServerAPIClient("", 200, (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("DELETE").toBe(method);
            expect("/inApps/v1/messaging/message/a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        });
        await client.deleteMessage("a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890");
    });
    it('calls getMessageList', async () => {
        const client = getClientWithBody("tests/resources/models/getMessageListResponse.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v1/messaging/message/list").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        });
        const response = await client.getMessageList();
        expect(response).toBeTruthy();
        expect(response.messageIdentifiers).toBeDefined();
        expect(response.messageIdentifiers?.length).toBe(1);
        expect(response.messageIdentifiers?.[0].messageIdentifier).toBe("a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890");
        expect(response.messageIdentifiers?.[0].messageState).toBe("APPROVED");
    });
    it('calls configureDefaultMessage', async () => {
        const client = getAppStoreServerAPIClient("", 200, (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("PUT").toBe(method);
            expect("/inApps/v1/messaging/default/com.example.product/en-US").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeTruthy();
            expect(typeof requestBody).toBe('string');
            const body = JSON.parse(requestBody);
            expect("a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890").toBe(body.messageIdentifier);
        });
        const defaultConfigurationRequest = {
            messageIdentifier: "a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890"
        };
        await client.configureDefaultMessage("com.example.product", "en-US", defaultConfigurationRequest);
    });
    it('calls deleteDefaultMessage', async () => {
        const client = getAppStoreServerAPIClient("", 200, (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("DELETE").toBe(method);
            expect("/inApps/v1/messaging/default/com.example.product/en-US").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        });
        await client.deleteDefaultMessage("com.example.product", "en-US");
    });
    it('calls getAppTransactionInfo', async () => {
        const client = getClientWithBody("tests/resources/models/appTransactionInfoResponse.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v1/transactions/appTransactions/1234").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        });
        const appTransactionInfoResponse = await client.getAppTransactionInfo("1234");
        expect(appTransactionInfoResponse).toBeTruthy();
        expect("signed_app_transaction_info_value").toBe(appTransactionInfoResponse.signedAppTransactionInfo);
    });
    it('calls getAppTransactionInfo but receives invalid transaction id error', async () => {
        const client = getClientWithBody("tests/resources/models/invalidTransactionIdError.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v1/transactions/appTransactions/invalid_id").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        }, 400);
        try {
            const appTransactionInfoResponse = await client.getAppTransactionInfo("invalid_id");
            fail('this test call is expected to throw');
        }
        catch (e) {
            let error = e;
            expect(error.httpStatusCode).toBe(400);
            expect(error.apiError).toBe(index_1.APIError.INVALID_TRANSACTION_ID);
            expect(error.errorMessage).toBe("Invalid transaction id.");
        }
    });
    it('calls getAppTransactionInfo but receives app transaction does not exist error', async () => {
        const client = getClientWithBody("tests/resources/models/appTransactionDoesNotExistError.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v1/transactions/appTransactions/5678").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        }, 404);
        try {
            const appTransactionInfoResponse = await client.getAppTransactionInfo("5678");
            fail('this test call is expected to throw');
        }
        catch (e) {
            let error = e;
            expect(error.httpStatusCode).toBe(404);
            expect(error.apiError).toBe(index_1.APIError.APP_TRANSACTION_DOES_NOT_EXIST_ERROR);
            expect(error.errorMessage).toBe("No AppTransaction exists for the customer.");
        }
    });
    it('calls getAppTransactionInfo but receives transaction id not found error', async () => {
        const client = getClientWithBody("tests/resources/models/transactionIdNotFoundError.json", (path, parsedQueryParameters, method, requestBody, headers) => {
            expect("GET").toBe(method);
            expect("/inApps/v1/transactions/appTransactions/9999").toBe(path);
            expect(parsedQueryParameters.entries.length).toBe(0);
            expect(requestBody).toBeUndefined();
        }, 404);
        try {
            const appTransactionInfoResponse = await client.getAppTransactionInfo("9999");
            fail('this test call is expected to throw');
        }
        catch (e) {
            let error = e;
            expect(error.httpStatusCode).toBe(404);
            expect(error.apiError).toBe(index_1.APIError.TRANSACTION_ID_NOT_FOUND);
            expect(error.errorMessage).toBe("Transaction id not found.");
        }
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBpX2NsaWVudC50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vdGVzdHMvdW5pdC10ZXN0cy9hcGlfY2xpZW50LnRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDREQUE0RDs7QUFFNUQsOERBQTJEO0FBRzNELHNFQUFtRTtBQUNuRSxnRUFBNkQ7QUFDN0QsMERBQXVEO0FBQ3ZELG9GQUFpRjtBQUNqRixrRkFBK0U7QUFDL0Usd0VBQXFFO0FBQ3JFLG9EQUFpRDtBQUNqRCxvREFBaUQ7QUFDakQsZ0RBQTZDO0FBQzdDLGtEQUErQztBQUMvQyx3REFBcUQ7QUFDckQsa0NBQWtDO0FBQ2xDLHdFQUFxRTtBQUNyRSxvRUFBaUU7QUFDakUsdUNBQXdVO0FBQ3hVLDJDQUFzQztBQUV0Qyw2Q0FBOEM7QUFJOUMsTUFBTSw4QkFBK0IsU0FBUSwrQkFBdUI7SUFNaEUsWUFBbUIsVUFBa0IsRUFBRSxLQUFhLEVBQUUsUUFBZ0IsRUFBRSxRQUFnQixFQUFFLFdBQXdCLEVBQUUsUUFBc0IsRUFBRSxJQUFZLEVBQUUsVUFBa0I7UUFDeEssS0FBSyxDQUFDLFVBQVUsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxXQUFXLENBQUMsQ0FBQTtRQUN6RCxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQTtRQUN4QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQTtRQUNoQixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQTtJQUNoQyxDQUFDO0lBQ1MsS0FBSyxDQUFDLGdCQUFnQixDQUFDLElBQVksRUFBRSxxQkFBc0MsRUFBRSxNQUFjLEVBQUUsV0FBd0MsRUFBRSxPQUFtQztRQUNoTCx3Q0FBd0M7UUFDeEMsSUFBSSxXQUFXLFlBQVksTUFBTSxFQUFFLENBQUM7WUFDaEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQTtRQUNy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Q0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLDJCQUEyQixDQUFDLENBQUE7UUFDL0QsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFBO0FBQ1IsQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMjMgQXBwbGUgSW5jLiBMaWNlbnNlZCB1bmRlciBNSVQgTGljZW5zZS5cblxuaW1wb3J0IHsgQWNjb3VudFRlbnVyZSB9IGZyb20gXCIuLi8uLi9tb2RlbHMvQWNjb3VudFRlbnVyZVwiO1xuaW1wb3J0IHsgQ29uc3VtcHRpb25SZXF1ZXN0IH0gZnJvbSBcIi4uLy4uL21vZGVscy9Db25zdW1wdGlvblJlcXVlc3RcIjtcbmltcG9ydCB7IFVwZGF0ZUFwcEFjY291bnRUb2tlblJlcXVlc3QgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL1VwZGF0ZUFwcEFjY291bnRUb2tlblJlcXVlc3RcIjtcbmltcG9ydCB7IENvbnN1bXB0aW9uU3RhdHVzIH0gZnJvbSBcIi4uLy4uL21vZGVscy9Db25zdW1wdGlvblN0YXR1c1wiO1xuaW1wb3J0IHsgRGVsaXZlcnlTdGF0dXMgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL0RlbGl2ZXJ5U3RhdHVzXCI7XG5pbXBvcnQgeyBFbnZpcm9ubWVudCB9IGZyb20gXCIuLi8uLi9tb2RlbHMvRW52aXJvbm1lbnRcIjtcbmltcG9ydCB7IExpZmV0aW1lRG9sbGFyc1B1cmNoYXNlZCB9IGZyb20gXCIuLi8uLi9tb2RlbHMvTGlmZXRpbWVEb2xsYXJzUHVyY2hhc2VkXCI7XG5pbXBvcnQgeyBMaWZldGltZURvbGxhcnNSZWZ1bmRlZCB9IGZyb20gXCIuLi8uLi9tb2RlbHMvTGlmZXRpbWVEb2xsYXJzUmVmdW5kZWRcIjtcbmltcG9ydCB7IE5vdGlmaWNhdGlvblR5cGVWMiB9IGZyb20gXCIuLi8uLi9tb2RlbHMvTm90aWZpY2F0aW9uVHlwZVYyXCI7XG5pbXBvcnQgeyBQbGF0Zm9ybSB9IGZyb20gXCIuLi8uLi9tb2RlbHMvUGxhdGZvcm1cIjtcbmltcG9ydCB7IFBsYXlUaW1lIH0gZnJvbSBcIi4uLy4uL21vZGVscy9QbGF5VGltZVwiO1xuaW1wb3J0IHsgU3RhdHVzIH0gZnJvbSBcIi4uLy4uL21vZGVscy9TdGF0dXNcIjtcbmltcG9ydCB7IFN1YnR5cGUgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL1N1YnR5cGVcIjtcbmltcG9ydCB7IFVzZXJTdGF0dXMgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL1VzZXJTdGF0dXNcIjtcbmltcG9ydCB7IHJlYWRGaWxlIH0gZnJvbSBcIi4uL3V0aWxcIlxuaW1wb3J0IHsgSW5BcHBPd25lcnNoaXBUeXBlIH0gZnJvbSBcIi4uLy4uL21vZGVscy9JbkFwcE93bmVyc2hpcFR5cGVcIjtcbmltcG9ydCB7IFJlZnVuZFByZWZlcmVuY2UgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL1JlZnVuZFByZWZlcmVuY2VcIjtcbmltcG9ydCB7IEFQSUVycm9yLCBBUElFeGNlcHRpb24sIEFwcFN0b3JlU2VydmVyQVBJQ2xpZW50LCBFeHRlbmRSZWFzb25Db2RlLCBFeHRlbmRSZW5ld2FsRGF0ZVJlcXVlc3QsIEdldFRyYW5zYWN0aW9uSGlzdG9yeVZlcnNpb24sIE1hc3NFeHRlbmRSZW5ld2FsRGF0ZVJlcXVlc3QsIE5vdGlmaWNhdGlvbkhpc3RvcnlSZXF1ZXN0LCBOb3RpZmljYXRpb25IaXN0b3J5UmVzcG9uc2VJdGVtLCBPcmRlciwgT3JkZXJMb29rdXBTdGF0dXMsIFByb2R1Y3RUeXBlLCBTZW5kQXR0ZW1wdFJlc3VsdCwgVHJhbnNhY3Rpb25IaXN0b3J5UmVxdWVzdCB9IGZyb20gXCIuLi8uLi9pbmRleFwiO1xuaW1wb3J0IHsgUmVzcG9uc2UgfSBmcm9tIFwibm9kZS1mZXRjaFwiO1xuXG5pbXBvcnQganNvbndlYnRva2VuID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XG5cbnR5cGUgY2FsbGJhY2tUeXBlID0gKHBhdGg6IHN0cmluZywgcGFyc2VkUXVlcnlQYXJhbWV0ZXJzOiBVUkxTZWFyY2hQYXJhbXMsIG1ldGhvZDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nIHwgQnVmZmVyIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfSkgPT4gdm9pZFxuXG5jbGFzcyBBcHBTdG9yZVNlcnZlckFQSUNsaWVudEZvclRlc3QgZXh0ZW5kcyBBcHBTdG9yZVNlcnZlckFQSUNsaWVudCB7XG5cbiAgICBwcml2YXRlIGNhbGxiYWNrOiBjYWxsYmFja1R5cGVcbiAgICBwcml2YXRlIGJvZHk6IHN0cmluZ1xuICAgIHByaXZhdGUgc3RhdHVzQ29kZTogbnVtYmVyXG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3Ioc2lnbmluZ0tleTogc3RyaW5nLCBrZXlJZDogc3RyaW5nLCBpc3N1ZXJJZDogc3RyaW5nLCBidW5kbGVJZDogc3RyaW5nLCBlbnZpcm9ubWVudDogRW52aXJvbm1lbnQsIGNhbGxiYWNrOiBjYWxsYmFja1R5cGUsIGJvZHk6IHN0cmluZywgc3RhdHVzQ29kZTogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKHNpZ25pbmdLZXksIGtleUlkLCBpc3N1ZXJJZCwgYnVuZGxlSWQsIGVudmlyb25tZW50KVxuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgdGhpcy5ib2R5ID0gYm9keVxuICAgICAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlXG4gICAgfVxuICAgIHByb3RlY3RlZCBhc3luYyBtYWtlRmV0Y2hSZXF1ZXN0KHBhdGg6IHN0cmluZywgcGFyc2VkUXVlcnlQYXJhbWV0ZXJzOiBVUkxTZWFyY2hQYXJhbXMsIG1ldGhvZDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nIHwgQnVmZmVyIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfSk6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgICAgICAgLy8gQ2hlY2sgQ29udGVudC1UeXBlIGJhc2VkIG9uIGJvZHkgdHlwZVxuICAgICAgICBpZiAocmVxdWVzdEJvZHkgaW5zdGFuY2VvZiBCdWZmZXIpIHtcbiAgICAgICAgICAgIGV4cGVjdChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkudG9CZSgnaW1hZ2UvcG5nJylcbiAgICAgICAgfSBlbHNlIGlmIChyZXF1ZXN0Qm9keSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBleHBlY3QodHlwZW9mIHJlcXVlc3RCb2R5KS50b0JlKCdzdHJpbmcnKVxuICAgICAgICAgICAgZXhwZWN0KGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddKS50b0JlKCdhcHBsaWNhdGlvbi9qc29uJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4cGVjdChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkudG9CZVVuZGVmaW5lZCgpXG4gICAgICAgIH1cblxuICAgICAgICBleHBlY3QoJ2FwcGxpY2F0aW9uL2pzb24nKS50b0JlKGhlYWRlcnNbJ0FjY2VwdCddKVxuICAgICAgICBleHBlY3QoaGVhZGVyc1snQXV0aG9yaXphdGlvbiddKS50b01hdGNoKC9eQmVhcmVyIC4rLylcbiAgICAgICAgY29uc3QgdG9rZW4gPSBoZWFkZXJzWydBdXRob3JpemF0aW9uJ10uc3Vic3RyaW5nKDcpXG4gICAgICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IGpzb253ZWJ0b2tlbi5kZWNvZGUodG9rZW4pIGFzIGpzb253ZWJ0b2tlbi5Kd3RQYXlsb2FkXG4gICAgICAgIGV4cGVjdChkZWNvZGVkVG9rZW5bJ2JpZCddKS50b0JlKCdidW5kbGVJZCcpXG4gICAgICAgIGV4cGVjdChkZWNvZGVkVG9rZW5bJ2F1ZCddKS50b0JlKCdhcHBzdG9yZWNvbm5lY3QtdjEnKVxuICAgICAgICBleHBlY3QoZGVjb2RlZFRva2VuWydpc3MnXSkudG9CZSgnaXNzdWVySWQnKVxuICAgICAgICBleHBlY3QoaGVhZGVyc1snVXNlci1BZ2VudCddKS50b01hdGNoKC9eYXBwLXN0b3JlLXNlcnZlci1saWJyYXJ5XFwvbm9kZVxcLy4rLylcbiAgICAgICAgdGhpcy5jYWxsYmFjayhwYXRoLCBwYXJzZWRRdWVyeVBhcmFtZXRlcnMsIG1ldGhvZCwgcmVxdWVzdEJvZHksIGhlYWRlcnMpXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IFJlc3BvbnNlKHRoaXMuYm9keSwge1xuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1c0NvZGVcbiAgICAgICAgfSkpXG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRDbGllbnRXaXRoQm9keShwYXRoOiBzdHJpbmcsIGNhbGxiYWNrOiBjYWxsYmFja1R5cGUsIHN0YXR1c0NvZGU6IG51bWJlciA9IDIwMCk6IEFwcFN0b3JlU2VydmVyQVBJQ2xpZW50IHtcbiAgICBjb25zdCBib2R5ID0gcmVhZEZpbGUocGF0aClcbiAgICByZXR1cm4gZ2V0QXBwU3RvcmVTZXJ2ZXJBUElDbGllbnQoYm9keSwgc3RhdHVzQ29kZSwgY2FsbGJhY2spXG59XG5cbmZ1bmN0aW9uIGdldEFwcFN0b3JlU2VydmVyQVBJQ2xpZW50KGJvZHk6IHN0cmluZywgc3RhdHVzQ29kZTogbnVtYmVyLCBjYWxsYmFjazogY2FsbGJhY2tUeXBlKTogQXBwU3RvcmVTZXJ2ZXJBUElDbGllbnQge1xuICAgIGNvbnN0IGtleSA9IGdldFNpZ25pbmdLZXkoKVxuICAgIHJldHVybiBuZXcgQXBwU3RvcmVTZXJ2ZXJBUElDbGllbnRGb3JUZXN0KGtleSwgXCJrZXlJZFwiLCBcImlzc3VlcklkXCIsIFwiYnVuZGxlSWRcIiwgRW52aXJvbm1lbnQuTE9DQUxfVEVTVElORywgY2FsbGJhY2ssIGJvZHksIHN0YXR1c0NvZGUpXG59XG5cbmZ1bmN0aW9uIGdldFNpZ25pbmdLZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gcmVhZEZpbGUoJ3Rlc3RzL3Jlc291cmNlcy9jZXJ0cy90ZXN0U2lnbmluZ0tleS5wOCcpXG59XG5cbmRlc2NyaWJlKCdUaGUgYXBpIGNsaWVudCAnLCAoKSA9PiB7XG4gICAgXG4gICAgaXQoJ2NhbGxzIGV4dGVuZFJlbmV3YWxEYXRlRm9yQWxsQWN0aXZlU3Vic2NyaWJlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50V2l0aEJvZHkoXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL2V4dGVuZFJlbmV3YWxEYXRlRm9yQWxsQWN0aXZlU3Vic2NyaWJlcnNSZXNwb25zZS5qc29uXCIsIChwYXRoOiBzdHJpbmcsIHBhcnNlZFF1ZXJ5UGFyYW1ldGVyczogVVJMU2VhcmNoUGFyYW1zLCBtZXRob2Q6IHN0cmluZywgcmVxdWVzdEJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IHVuZGVmaW5lZCwgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH0pID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChcIlBPU1RcIikudG9CZShtZXRob2QpXG4gICAgICAgICAgICBleHBlY3QoXCIvaW5BcHBzL3YxL3N1YnNjcmlwdGlvbnMvZXh0ZW5kL21hc3NcIikudG9CZShwYXRoKVxuICAgICAgICAgICAgZXhwZWN0KHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5lbnRyaWVzLmxlbmd0aCkudG9CZSgwKVxuXG4gICAgICAgICAgICBleHBlY3QocmVxdWVzdEJvZHkpLnRvQmVUcnV0aHkoKVxuICAgICAgICAgICAgZXhwZWN0KHR5cGVvZiByZXF1ZXN0Qm9keSkudG9CZSgnc3RyaW5nJylcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnBhcnNlKHJlcXVlc3RCb2R5IGFzIHN0cmluZylcbiAgICAgICAgICAgIGV4cGVjdCg0NSkudG9CZShib2R5LmV4dGVuZEJ5RGF5cylcbiAgICAgICAgICAgIGV4cGVjdCgxKS50b0JlKGJvZHkuZXh0ZW5kUmVhc29uQ29kZSlcbiAgICAgICAgICAgIGV4cGVjdChcImZkZjk2NGE0LTIzM2ItNDg2Yy1hYWMxLTk3ZDhkNTI2ODhhY1wiKS50b0JlKGJvZHkucmVxdWVzdElkZW50aWZpZXIpXG4gICAgICAgICAgICBleHBlY3QoW1wiVVNBXCIsIFwiTUVYXCJdKS50b1N0cmljdEVxdWFsKGJvZHkuc3RvcmVmcm9udENvdW50cnlDb2RlcylcbiAgICAgICAgICAgIGV4cGVjdChcImNvbS5leGFtcGxlLnByb2R1Y3RJZFwiKS50b0JlKGJvZHkucHJvZHVjdElkKVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBleHRlbmRSZW5ld2FsRGF0ZVJlcXVlc3Q6IE1hc3NFeHRlbmRSZW5ld2FsRGF0ZVJlcXVlc3QgPSB7XG4gICAgICAgICAgICBleHRlbmRCeURheXM6IDQ1LFxuICAgICAgICAgICAgZXh0ZW5kUmVhc29uQ29kZTogRXh0ZW5kUmVhc29uQ29kZS5DVVNUT01FUl9TQVRJU0ZBQ1RJT04sXG4gICAgICAgICAgICByZXF1ZXN0SWRlbnRpZmllcjogXCJmZGY5NjRhNC0yMzNiLTQ4NmMtYWFjMS05N2Q4ZDUyNjg4YWNcIixcbiAgICAgICAgICAgIHN0b3JlZnJvbnRDb3VudHJ5Q29kZXM6IFtcIlVTQVwiLCBcIk1FWFwiXSxcbiAgICAgICAgICAgIHByb2R1Y3RJZDogXCJjb20uZXhhbXBsZS5wcm9kdWN0SWRcIlxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWFzc0V4dGVuZFJlbmV3YWxEYXRlUmVzcG9uc2UgPSBhd2FpdCBjbGllbnQuZXh0ZW5kUmVuZXdhbERhdGVGb3JBbGxBY3RpdmVTdWJzY3JpYmVycyhleHRlbmRSZW5ld2FsRGF0ZVJlcXVlc3QpO1xuXG4gICAgICAgIGV4cGVjdChtYXNzRXh0ZW5kUmVuZXdhbERhdGVSZXNwb25zZSkudG9CZVRydXRoeSgpXG4gICAgICAgIGV4cGVjdChcIjc1ODg4M2U4LTE1MWItNDdiNy1hYmQwLTYwYzRkODA0YzJmNVwiKS50b0JlKG1hc3NFeHRlbmRSZW5ld2FsRGF0ZVJlc3BvbnNlLnJlcXVlc3RJZGVudGlmaWVyKVxuICAgIH0pXG5cbiAgICBpdCgnY2FsbHMgZXh0ZW5kU3Vic2NyaXB0aW9uUmVuZXdhbERhdGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50V2l0aEJvZHkoXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL2V4dGVuZFN1YnNjcmlwdGlvblJlbmV3YWxEYXRlUmVzcG9uc2UuanNvblwiLCAocGF0aDogc3RyaW5nLCBwYXJzZWRRdWVyeVBhcmFtZXRlcnM6IFVSTFNlYXJjaFBhcmFtcywgbWV0aG9kOiBzdHJpbmcsIHJlcXVlc3RCb2R5OiBzdHJpbmcgfCBCdWZmZXIgfCB1bmRlZmluZWQsIGhlYWRlcnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9KSA9PiB7XG4gICAgICAgICAgICBleHBlY3QoXCJQVVRcIikudG9CZShtZXRob2QpXG4gICAgICAgICAgICBleHBlY3QoXCIvaW5BcHBzL3YxL3N1YnNjcmlwdGlvbnMvZXh0ZW5kLzQxMjQyMTRcIikudG9CZShwYXRoKVxuICAgICAgICAgICAgZXhwZWN0KHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5lbnRyaWVzLmxlbmd0aCkudG9CZSgwKVxuXG4gICAgICAgICAgICBleHBlY3QocmVxdWVzdEJvZHkpLnRvQmVUcnV0aHkoKVxuICAgICAgICAgICAgZXhwZWN0KHR5cGVvZiByZXF1ZXN0Qm9keSkudG9CZSgnc3RyaW5nJylcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnBhcnNlKHJlcXVlc3RCb2R5IGFzIHN0cmluZylcbiAgICAgICAgICAgIGV4cGVjdCg0NSkudG9CZShib2R5LmV4dGVuZEJ5RGF5cylcbiAgICAgICAgICAgIGV4cGVjdCgxKS50b0JlKGJvZHkuZXh0ZW5kUmVhc29uQ29kZSlcbiAgICAgICAgICAgIGV4cGVjdChcImZkZjk2NGE0LTIzM2ItNDg2Yy1hYWMxLTk3ZDhkNTI2ODhhY1wiKS50b0JlKGJvZHkucmVxdWVzdElkZW50aWZpZXIpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGV4dGVuZFJlbmV3YWxEYXRlUmVxdWVzdDogRXh0ZW5kUmVuZXdhbERhdGVSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgZXh0ZW5kQnlEYXlzOiA0NSxcbiAgICAgICAgICAgIGV4dGVuZFJlYXNvbkNvZGU6IEV4dGVuZFJlYXNvbkNvZGUuQ1VTVE9NRVJfU0FUSVNGQUNUSU9OLFxuICAgICAgICAgICAgcmVxdWVzdElkZW50aWZpZXI6IFwiZmRmOTY0YTQtMjMzYi00ODZjLWFhYzEtOTdkOGQ1MjY4OGFjXCJcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4dGVuZFJlbmV3YWxEYXRlUmVzcG9uc2UgPSBhd2FpdCBjbGllbnQuZXh0ZW5kU3Vic2NyaXB0aW9uUmVuZXdhbERhdGUoXCI0MTI0MjE0XCIsIGV4dGVuZFJlbmV3YWxEYXRlUmVxdWVzdCk7XG5cbiAgICAgICAgZXhwZWN0KGV4dGVuZFJlbmV3YWxEYXRlUmVzcG9uc2UpLnRvQmVUcnV0aHkoKVxuICAgICAgICBleHBlY3QoXCIyMzEyNDEyXCIpLnRvQmUoZXh0ZW5kUmVuZXdhbERhdGVSZXNwb25zZS5vcmlnaW5hbFRyYW5zYWN0aW9uSWQpXG4gICAgICAgIGV4cGVjdChcIjk5OTNcIikudG9CZShleHRlbmRSZW5ld2FsRGF0ZVJlc3BvbnNlLndlYk9yZGVyTGluZUl0ZW1JZClcbiAgICAgICAgZXhwZWN0KGV4dGVuZFJlbmV3YWxEYXRlUmVzcG9uc2Uuc3VjY2VzcykudG9CZSh0cnVlKVxuICAgICAgICBleHBlY3QoMTY5ODE0ODkwMDAwMCkudG9CZShleHRlbmRSZW5ld2FsRGF0ZVJlc3BvbnNlLmVmZmVjdGl2ZURhdGUpXG4gICAgfSlcblxuICAgIGl0KCdjYWxscyBnZXRBbGxTdWJzY3JpcHRpb25TdGF0dXNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnRXaXRoQm9keShcInRlc3RzL3Jlc291cmNlcy9tb2RlbHMvZ2V0QWxsU3Vic2NyaXB0aW9uU3RhdHVzZXNSZXNwb25zZS5qc29uXCIsIChwYXRoOiBzdHJpbmcsIHBhcnNlZFF1ZXJ5UGFyYW1ldGVyczogVVJMU2VhcmNoUGFyYW1zLCBtZXRob2Q6IHN0cmluZywgcmVxdWVzdEJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IHVuZGVmaW5lZCwgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH0pID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChcIkdFVFwiKS50b0JlKG1ldGhvZClcbiAgICAgICAgICAgIGV4cGVjdChcIi9pbkFwcHMvdjEvc3Vic2NyaXB0aW9ucy80MzIxXCIpLnRvQmUocGF0aClcbiAgICAgICAgICAgIGV4cGVjdChbXCIyXCIsIFwiMVwiXSkudG9TdHJpY3RFcXVhbChwYXJzZWRRdWVyeVBhcmFtZXRlcnMuZ2V0QWxsKFwic3RhdHVzXCIpKVxuICAgICAgICAgICAgZXhwZWN0KHJlcXVlc3RCb2R5KS50b0JlVW5kZWZpbmVkKClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc3RhdHVzUmVzcG9uc2UgPSBhd2FpdCBjbGllbnQuZ2V0QWxsU3Vic2NyaXB0aW9uU3RhdHVzZXMoXCI0MzIxXCIsIFtTdGF0dXMuRVhQSVJFRCwgU3RhdHVzLkFDVElWRV0pO1xuXG4gICAgICAgIGV4cGVjdChzdGF0dXNSZXNwb25zZSkudG9CZVRydXRoeSgpXG4gICAgICAgIGV4cGVjdChFbnZpcm9ubWVudC5MT0NBTF9URVNUSU5HKS50b0JlKHN0YXR1c1Jlc3BvbnNlLmVudmlyb25tZW50KVxuICAgICAgICBleHBlY3QoXCJjb20uZXhhbXBsZVwiKS50b0JlKHN0YXR1c1Jlc3BvbnNlLmJ1bmRsZUlkKVxuICAgICAgICBleHBlY3QoNTQ1NDU0NSkudG9CZShzdGF0dXNSZXNwb25zZS5hcHBBcHBsZUlkKVxuXG4gICAgICAgIGNvbnN0IGl0ZW0gPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uR3JvdXBJZGVudGlmaWVyOiAnc3ViX2dyb3VwX29uZScsXG4gICAgICAgICAgICAgICAgbGFzdFRyYW5zYWN0aW9uczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFN0YXR1cy5BQ1RJVkUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFRyYW5zYWN0aW9uSWQ6IFwiMzc0OTE4M1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmVkVHJhbnNhY3Rpb25JbmZvOiBcInNpZ25lZF90cmFuc2FjdGlvbl9vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25lZFJlbmV3YWxJbmZvOiBcInNpZ25lZF9yZW5ld2FsX29uZVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogU3RhdHVzLlJFVk9LRUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFRyYW5zYWN0aW9uSWQ6IFwiNTMxNDMxNDEzNFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmVkVHJhbnNhY3Rpb25JbmZvOiBcInNpZ25lZF90cmFuc2FjdGlvbl90d29cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25lZFJlbmV3YWxJbmZvOiBcInNpZ25lZF9yZW5ld2FsX3R3b1wiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbkdyb3VwSWRlbnRpZmllcjogXCJzdWJfZ3JvdXBfdHdvXCIsXG4gICAgICAgICAgICAgICAgbGFzdFRyYW5zYWN0aW9uczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFN0YXR1cy5FWFBJUkVELFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxUcmFuc2FjdGlvbklkOiBcIjM0MTM0NTNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25lZFRyYW5zYWN0aW9uSW5mbzogXCJzaWduZWRfdHJhbnNhY3Rpb25fdGhyZWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25lZFJlbmV3YWxJbmZvOiBcInNpZ25lZF9yZW5ld2FsX3RocmVlXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgICBleHBlY3Qoc3RhdHVzUmVzcG9uc2UuZGF0YSkudG9TdHJpY3RFcXVhbChpdGVtKVxuICAgIH0pXG5cbiAgICBpdCgnY2FsbHMgZ2V0UmVmdW5kSGlzdG9yeScsIGFzeW5jICgpID0+IHtcbiAgICAgICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnRXaXRoQm9keShcInRlc3RzL3Jlc291cmNlcy9tb2RlbHMvZ2V0UmVmdW5kSGlzdG9yeVJlc3BvbnNlLmpzb25cIiwgKHBhdGg6IHN0cmluZywgcGFyc2VkUXVlcnlQYXJhbWV0ZXJzOiBVUkxTZWFyY2hQYXJhbXMsIG1ldGhvZDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nIHwgQnVmZmVyIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfSkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KFwiR0VUXCIpLnRvQmUobWV0aG9kKVxuICAgICAgICAgICAgZXhwZWN0KFwiL2luQXBwcy92Mi9yZWZ1bmQvbG9va3VwLzU1NTU1NVwiKS50b0JlKHBhdGgpXG4gICAgICAgICAgICBleHBlY3QoXCJyZXZpc2lvbl9pbnB1dFwiKS50b0JlKHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5nZXQoXCJyZXZpc2lvblwiKSlcbiAgICAgICAgICAgIGV4cGVjdChyZXF1ZXN0Qm9keSkudG9CZVVuZGVmaW5lZCgpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlZnVuZEhpc3RvcnlSZXNwb25zZSA9IGF3YWl0IGNsaWVudC5nZXRSZWZ1bmRIaXN0b3J5KFwiNTU1NTU1XCIsIFwicmV2aXNpb25faW5wdXRcIik7XG5cbiAgICAgICAgZXhwZWN0KHJlZnVuZEhpc3RvcnlSZXNwb25zZSkudG9CZVRydXRoeSgpXG4gICAgICAgIGV4cGVjdChbXCJzaWduZWRfdHJhbnNhY3Rpb25fb25lXCIsIFwic2lnbmVkX3RyYW5zYWN0aW9uX3R3b1wiXSkudG9TdHJpY3RFcXVhbChyZWZ1bmRIaXN0b3J5UmVzcG9uc2Uuc2lnbmVkVHJhbnNhY3Rpb25zKVxuICAgICAgICBleHBlY3QoXCJyZXZpc2lvbl9vdXRwdXRcIikudG9CZShyZWZ1bmRIaXN0b3J5UmVzcG9uc2UucmV2aXNpb24pXG4gICAgICAgIGV4cGVjdChyZWZ1bmRIaXN0b3J5UmVzcG9uc2UuaGFzTW9yZSkudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgICBpdCgnY2FsbHMgZ2V0U3RhdHVzT2ZTdWJzY3JpcHRpb25SZW5ld2FsRGF0ZUV4dGVuc2lvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50V2l0aEJvZHkoXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL2dldFN0YXR1c09mU3Vic2NyaXB0aW9uUmVuZXdhbERhdGVFeHRlbnNpb25zUmVzcG9uc2UuanNvblwiLCAocGF0aDogc3RyaW5nLCBwYXJzZWRRdWVyeVBhcmFtZXRlcnM6IFVSTFNlYXJjaFBhcmFtcywgbWV0aG9kOiBzdHJpbmcsIHJlcXVlc3RCb2R5OiBzdHJpbmcgfCBCdWZmZXIgfCB1bmRlZmluZWQsIGhlYWRlcnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9KSA9PiB7XG4gICAgICAgICAgICBleHBlY3QoXCJHRVRcIikudG9CZShtZXRob2QpXG4gICAgICAgICAgICBleHBlY3QoXCIvaW5BcHBzL3YxL3N1YnNjcmlwdGlvbnMvZXh0ZW5kL21hc3MvMjBmYmE4YTAtMmI4MC00YTdkLWExN2YtODVjMTg1NDcyN2Y4L2NvbS5leGFtcGxlLnByb2R1Y3RcIikudG9CZShwYXRoKVxuICAgICAgICAgICAgZXhwZWN0KHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5lbnRyaWVzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgICAgICAgZXhwZWN0KHJlcXVlc3RCb2R5KS50b0JlVW5kZWZpbmVkKClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgbWFzc0V4dGVuZFJlbmV3YWxEYXRlU3RhdHVzUmVzcG9uc2UgPSBhd2FpdCBjbGllbnQuZ2V0U3RhdHVzT2ZTdWJzY3JpcHRpb25SZW5ld2FsRGF0ZUV4dGVuc2lvbnMoXCJjb20uZXhhbXBsZS5wcm9kdWN0XCIsIFwiMjBmYmE4YTAtMmI4MC00YTdkLWExN2YtODVjMTg1NDcyN2Y4XCIpO1xuXG4gICAgICAgIGV4cGVjdChtYXNzRXh0ZW5kUmVuZXdhbERhdGVTdGF0dXNSZXNwb25zZSkudG9CZVRydXRoeSgpXG4gICAgICAgIGV4cGVjdChcIjIwZmJhOGEwLTJiODAtNGE3ZC1hMTdmLTg1YzE4NTQ3MjdmOFwiKS50b0JlKG1hc3NFeHRlbmRSZW5ld2FsRGF0ZVN0YXR1c1Jlc3BvbnNlLnJlcXVlc3RJZGVudGlmaWVyKVxuICAgICAgICBleHBlY3QobWFzc0V4dGVuZFJlbmV3YWxEYXRlU3RhdHVzUmVzcG9uc2UuY29tcGxldGUpLnRvQmUodHJ1ZSlcbiAgICAgICAgZXhwZWN0KDE2OTgxNDg5MDAwMDApLnRvQmUobWFzc0V4dGVuZFJlbmV3YWxEYXRlU3RhdHVzUmVzcG9uc2UuY29tcGxldGVEYXRlKVxuICAgICAgICBleHBlY3QoMzApLnRvQmUobWFzc0V4dGVuZFJlbmV3YWxEYXRlU3RhdHVzUmVzcG9uc2Uuc3VjY2VlZGVkQ291bnQpXG4gICAgICAgIGV4cGVjdCgyKS50b0JlKG1hc3NFeHRlbmRSZW5ld2FsRGF0ZVN0YXR1c1Jlc3BvbnNlLmZhaWxlZENvdW50KVxuICAgIH0pXG5cbiAgICBpdCgnY2FsbHMgZ2V0VGVzdE5vdGlmaWNhdGlvblN0YXR1cycsIGFzeW5jICgpID0+IHtcbiAgICAgICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnRXaXRoQm9keShcInRlc3RzL3Jlc291cmNlcy9tb2RlbHMvZ2V0VGVzdE5vdGlmaWNhdGlvblN0YXR1c1Jlc3BvbnNlLmpzb25cIiwgKHBhdGg6IHN0cmluZywgcGFyc2VkUXVlcnlQYXJhbWV0ZXJzOiBVUkxTZWFyY2hQYXJhbXMsIG1ldGhvZDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nIHwgQnVmZmVyIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfSkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KFwiR0VUXCIpLnRvQmUobWV0aG9kKVxuICAgICAgICAgICAgZXhwZWN0KFwiL2luQXBwcy92MS9ub3RpZmljYXRpb25zL3Rlc3QvOGNkMjk3NGMtZjkwNS00OTJhLWJmOWEtYjJmNDdjNzkxZDE5XCIpLnRvQmUocGF0aClcbiAgICAgICAgICAgIGV4cGVjdChwYXJzZWRRdWVyeVBhcmFtZXRlcnMuZW50cmllcy5sZW5ndGgpLnRvQmUoMClcbiAgICAgICAgICAgIGV4cGVjdChyZXF1ZXN0Qm9keSkudG9CZVVuZGVmaW5lZCgpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGNoZWNrVGVzdE5vdGlmaWNhdGlvblJlc3BvbnNlID0gYXdhaXQgY2xpZW50LmdldFRlc3ROb3RpZmljYXRpb25TdGF0dXMoXCI4Y2QyOTc0Yy1mOTA1LTQ5MmEtYmY5YS1iMmY0N2M3OTFkMTlcIik7XG5cbiAgICAgICAgZXhwZWN0KGNoZWNrVGVzdE5vdGlmaWNhdGlvblJlc3BvbnNlKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIGV4cGVjdChcInNpZ25lZF9wYXlsb2FkXCIpLnRvQmUoY2hlY2tUZXN0Tm90aWZpY2F0aW9uUmVzcG9uc2Uuc2lnbmVkUGF5bG9hZClcbiAgICAgICAgY29uc3Qgc2VuZEF0dGVtcHRJdGVtcyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRlbXB0RGF0ZTogMTY5ODE0ODkwMDAwMCxcbiAgICAgICAgICAgICAgICBzZW5kQXR0ZW1wdFJlc3VsdDogU2VuZEF0dGVtcHRSZXN1bHQuTk9fUkVTUE9OU0VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0ZW1wdERhdGU6IDE2OTgxNDg5NTAwMDAsXG4gICAgICAgICAgICAgICAgc2VuZEF0dGVtcHRSZXN1bHQ6IFNlbmRBdHRlbXB0UmVzdWx0LlNVQ0NFU1NcbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgICBleHBlY3Qoc2VuZEF0dGVtcHRJdGVtcykudG9TdHJpY3RFcXVhbChjaGVja1Rlc3ROb3RpZmljYXRpb25SZXNwb25zZS5zZW5kQXR0ZW1wdHMpXG4gICAgfSlcblxuICAgIGl0KCdjYWxscyBnZXROb3RpZmljYXRpb25IaXN0b3J5UmVzcG9uc2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50V2l0aEJvZHkoXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL2dldE5vdGlmaWNhdGlvbkhpc3RvcnlSZXNwb25zZS5qc29uXCIsIChwYXRoOiBzdHJpbmcsIHBhcnNlZFF1ZXJ5UGFyYW1ldGVyczogVVJMU2VhcmNoUGFyYW1zLCBtZXRob2Q6IHN0cmluZywgcmVxdWVzdEJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IHVuZGVmaW5lZCwgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH0pID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChcIlBPU1RcIikudG9CZShtZXRob2QpXG4gICAgICAgICAgICBleHBlY3QoXCIvaW5BcHBzL3YxL25vdGlmaWNhdGlvbnMvaGlzdG9yeVwiKS50b0JlKHBhdGgpXG4gICAgICAgICAgICBleHBlY3QoXCJhMDM2YmMwZS01MmI4LTRiZWUtODJmYy04YzI0Y2I2NzE1ZDZcIikudG9CZShwYXJzZWRRdWVyeVBhcmFtZXRlcnMuZ2V0KFwicGFnaW5hdGlvblRva2VuXCIpKVxuICAgICAgICAgICAgZXhwZWN0KHJlcXVlc3RCb2R5KS50b0JlVHJ1dGh5KClcbiAgICAgICAgICAgIGV4cGVjdCh0eXBlb2YgcmVxdWVzdEJvZHkpLnRvQmUoJ3N0cmluZycpXG4gICAgICAgICAgICBjb25zdCBib2R5ID0gSlNPTi5wYXJzZShyZXF1ZXN0Qm9keSBhcyBzdHJpbmcpXG4gICAgICAgICAgICBleHBlY3QoMTY5ODE0ODkwMDAwMCkudG9CZShib2R5LnN0YXJ0RGF0ZSlcbiAgICAgICAgICAgIGV4cGVjdCgxNjk4MTQ4OTUwMDAwKS50b0JlKGJvZHkuZW5kRGF0ZSlcbiAgICAgICAgICAgIGV4cGVjdChcIlNVQlNDUklCRURcIikudG9CZShib2R5Lm5vdGlmaWNhdGlvblR5cGUpXG4gICAgICAgICAgICBleHBlY3QoXCJJTklUSUFMX0JVWVwiKS50b0JlKGJvZHkubm90aWZpY2F0aW9uU3VidHlwZSlcbiAgICAgICAgICAgIGV4cGVjdChcIjk5OTczMzg0M1wiKS50b0JlKGJvZHkudHJhbnNhY3Rpb25JZClcbiAgICAgICAgICAgIGV4cGVjdChib2R5Lm9ubHlGYWlsdXJlcykudG9CZSh0cnVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uSGlzdG9yeVJlcXVlc3Q6IE5vdGlmaWNhdGlvbkhpc3RvcnlSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgc3RhcnREYXRlOiAxNjk4MTQ4OTAwMDAwLFxuICAgICAgICAgICAgZW5kRGF0ZTogMTY5ODE0ODk1MDAwMCxcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvblR5cGU6IE5vdGlmaWNhdGlvblR5cGVWMi5TVUJTQ1JJQkVELFxuICAgICAgICAgICAgbm90aWZpY2F0aW9uU3VidHlwZTogU3VidHlwZS5JTklUSUFMX0JVWSxcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uSWQ6IFwiOTk5NzMzODQzXCIsXG4gICAgICAgICAgICBvbmx5RmFpbHVyZXM6IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbkhpc3RvcnlSZXNwb25zZSA9IGF3YWl0IGNsaWVudC5nZXROb3RpZmljYXRpb25IaXN0b3J5KFwiYTAzNmJjMGUtNTJiOC00YmVlLTgyZmMtOGMyNGNiNjcxNWQ2XCIsIG5vdGlmaWNhdGlvbkhpc3RvcnlSZXF1ZXN0KTtcblxuICAgICAgICBleHBlY3Qobm90aWZpY2F0aW9uSGlzdG9yeVJlc3BvbnNlKS50b0JlVHJ1dGh5KClcbiAgICAgICAgZXhwZWN0KFwiNTc3MTU0ODEtODA1YS00MjgzLTg0OTktMWMxOWI1ZDZiMjBhXCIpLnRvQmUobm90aWZpY2F0aW9uSGlzdG9yeVJlc3BvbnNlLnBhZ2luYXRpb25Ub2tlbilcbiAgICAgICAgZXhwZWN0KG5vdGlmaWNhdGlvbkhpc3RvcnlSZXNwb25zZS5oYXNNb3JlKS50b0JlKHRydWUpXG4gICAgICAgIGNvbnN0IGV4cGVjdGVkTm90aWZpY2F0aW9uSGlzdG9yeTogTm90aWZpY2F0aW9uSGlzdG9yeVJlc3BvbnNlSXRlbVtdID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlbmRBdHRlbXB0czogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRlbXB0RGF0ZTogMTY5ODE0ODkwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRBdHRlbXB0UmVzdWx0OiBTZW5kQXR0ZW1wdFJlc3VsdC5OT19SRVNQT05TRVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRlbXB0RGF0ZTogMTY5ODE0ODk1MDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRBdHRlbXB0UmVzdWx0OiBTZW5kQXR0ZW1wdFJlc3VsdC5TVUNDRVNTXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHNpZ25lZFBheWxvYWQ6IFwic2lnbmVkX3BheWxvYWRfb25lXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VuZEF0dGVtcHRzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGVtcHREYXRlOiAxNjk4MTQ4ODAwMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZEF0dGVtcHRSZXN1bHQ6IFNlbmRBdHRlbXB0UmVzdWx0LkNJUkNVTEFSX1JFRElSRUNUXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHNpZ25lZFBheWxvYWQ6IFwic2lnbmVkX3BheWxvYWRfdHdvXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgICBleHBlY3QoZXhwZWN0ZWROb3RpZmljYXRpb25IaXN0b3J5KS50b1N0cmljdEVxdWFsKG5vdGlmaWNhdGlvbkhpc3RvcnlSZXNwb25zZS5ub3RpZmljYXRpb25IaXN0b3J5KVxuICAgIH0pXG5cbiAgICBpdCgnY2FsbHMgZ2V0VHJhbnNhY3Rpb25IaXN0b3J5IFYxJywgYXN5bmMgKCkgPT4ge1xuICAgICAgIGNvbnN0IGNsaWVudCA9IGdldENsaWVudFdpdGhCb2R5KFwidGVzdHMvcmVzb3VyY2VzL21vZGVscy90cmFuc2FjdGlvbkhpc3RvcnlSZXNwb25zZS5qc29uXCIsIChwYXRoOiBzdHJpbmcsIHBhcnNlZFF1ZXJ5UGFyYW1ldGVyczogVVJMU2VhcmNoUGFyYW1zLCBtZXRob2Q6IHN0cmluZywgcmVxdWVzdEJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IHVuZGVmaW5lZCwgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH0pID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChcIkdFVFwiKS50b0JlKG1ldGhvZClcbiAgICAgICAgICAgIGV4cGVjdChcIi9pbkFwcHMvdjEvaGlzdG9yeS8xMjM0XCIpLnRvQmUocGF0aClcbiAgICAgICAgICAgIGV4cGVjdChcInJldmlzaW9uX2lucHV0XCIpLnRvQmUocGFyc2VkUXVlcnlQYXJhbWV0ZXJzLmdldChcInJldmlzaW9uXCIpKVxuICAgICAgICAgICAgZXhwZWN0KFwiMTIzNDU1XCIpLnRvQmUocGFyc2VkUXVlcnlQYXJhbWV0ZXJzLmdldChcInN0YXJ0RGF0ZVwiKSlcbiAgICAgICAgICAgIGV4cGVjdChcIjEyMzQ1NlwiKS50b0JlKHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5nZXQoXCJlbmREYXRlXCIpKVxuICAgICAgICAgICAgZXhwZWN0KFtcImNvbS5leGFtcGxlLjFcIiwgXCJjb20uZXhhbXBsZS4yXCJdKS50b1N0cmljdEVxdWFsKHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5nZXRBbGwoXCJwcm9kdWN0SWRcIikpXG4gICAgICAgICAgICBleHBlY3QoW1wiQ09OU1VNQUJMRVwiLCBcIkFVVE9fUkVORVdBQkxFXCJdKS50b1N0cmljdEVxdWFsKHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5nZXRBbGwoXCJwcm9kdWN0VHlwZVwiKSlcbiAgICAgICAgICAgIGV4cGVjdChcIkFTQ0VORElOR1wiKS50b0JlKHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5nZXQoXCJzb3J0XCIpKVxuICAgICAgICAgICAgZXhwZWN0KFtcInN1Yl9ncm91cF9pZFwiLCBcInN1Yl9ncm91cF9pZF8yXCJdKS50b1N0cmljdEVxdWFsKHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5nZXRBbGwoXCJzdWJzY3JpcHRpb25Hcm91cElkZW50aWZpZXJcIikpXG4gICAgICAgICAgICBleHBlY3QoXCJGQU1JTFlfU0hBUkVEXCIpLnRvQmUocGFyc2VkUXVlcnlQYXJhbWV0ZXJzLmdldChcImluQXBwT3duZXJzaGlwVHlwZVwiKSlcbiAgICAgICAgICAgIGV4cGVjdChcImZhbHNlXCIpLnRvQmUocGFyc2VkUXVlcnlQYXJhbWV0ZXJzLmdldChcInJldm9rZWRcIikpXG4gICAgICAgICAgICBleHBlY3QocmVxdWVzdEJvZHkpLnRvQmVVbmRlZmluZWQoKVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0OiBUcmFuc2FjdGlvbkhpc3RvcnlSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgc29ydDogT3JkZXIuQVNDRU5ESU5HLFxuICAgICAgICAgICAgcHJvZHVjdFR5cGVzOiBbUHJvZHVjdFR5cGUuQ09OU1VNQUJMRSwgUHJvZHVjdFR5cGUuQVVUT19SRU5FV0FCTEVdLFxuICAgICAgICAgICAgZW5kRGF0ZTogMTIzNDU2LFxuICAgICAgICAgICAgc3RhcnREYXRlOiAxMjM0NTUsXG4gICAgICAgICAgICByZXZva2VkOiBmYWxzZSxcbiAgICAgICAgICAgIGluQXBwT3duZXJzaGlwVHlwZTogSW5BcHBPd25lcnNoaXBUeXBlLkZBTUlMWV9TSEFSRUQsXG4gICAgICAgICAgICBwcm9kdWN0SWRzOiBbXCJjb20uZXhhbXBsZS4xXCIsIFwiY29tLmV4YW1wbGUuMlwiXSxcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbkdyb3VwSWRlbnRpZmllcnM6IFtcInN1Yl9ncm91cF9pZFwiLCBcInN1Yl9ncm91cF9pZF8yXCJdXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoaXN0b3J5UmVzcG9uc2UgPSBhd2FpdCBjbGllbnQuZ2V0VHJhbnNhY3Rpb25IaXN0b3J5KFwiMTIzNFwiLCBcInJldmlzaW9uX2lucHV0XCIsIHJlcXVlc3QsIEdldFRyYW5zYWN0aW9uSGlzdG9yeVZlcnNpb24uVjEpO1xuXG4gICAgICAgIGV4cGVjdChoaXN0b3J5UmVzcG9uc2UpLnRvQmVUcnV0aHkoKVxuICAgICAgICBleHBlY3QoXCJyZXZpc2lvbl9vdXRwdXRcIikudG9CZShoaXN0b3J5UmVzcG9uc2UucmV2aXNpb24pXG4gICAgICAgIGV4cGVjdChoaXN0b3J5UmVzcG9uc2UuaGFzTW9yZSkudG9CZSh0cnVlKVxuICAgICAgICBleHBlY3QoXCJjb20uZXhhbXBsZVwiKS50b0JlKGhpc3RvcnlSZXNwb25zZS5idW5kbGVJZClcbiAgICAgICAgZXhwZWN0KDMyMzIzMikudG9CZShoaXN0b3J5UmVzcG9uc2UuYXBwQXBwbGVJZClcbiAgICAgICAgZXhwZWN0KEVudmlyb25tZW50LkxPQ0FMX1RFU1RJTkcpLnRvQmUoaGlzdG9yeVJlc3BvbnNlLmVudmlyb25tZW50KVxuICAgICAgICBleHBlY3QoW1wic2lnbmVkX3RyYW5zYWN0aW9uX3ZhbHVlXCIsIFwic2lnbmVkX3RyYW5zYWN0aW9uX3ZhbHVlMlwiXSkudG9TdHJpY3RFcXVhbChoaXN0b3J5UmVzcG9uc2Uuc2lnbmVkVHJhbnNhY3Rpb25zKVxuICAgIH0pXG5cbiAgICBpdCgnY2FsbHMgZ2V0VHJhbnNhY3Rpb25IaXN0b3J5IFYyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnRXaXRoQm9keShcInRlc3RzL3Jlc291cmNlcy9tb2RlbHMvdHJhbnNhY3Rpb25IaXN0b3J5UmVzcG9uc2UuanNvblwiLCAocGF0aDogc3RyaW5nLCBwYXJzZWRRdWVyeVBhcmFtZXRlcnM6IFVSTFNlYXJjaFBhcmFtcywgbWV0aG9kOiBzdHJpbmcsIHJlcXVlc3RCb2R5OiBzdHJpbmcgfCBCdWZmZXIgfCB1bmRlZmluZWQsIGhlYWRlcnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9KSA9PiB7XG4gICAgICAgICAgICAgZXhwZWN0KFwiR0VUXCIpLnRvQmUobWV0aG9kKVxuICAgICAgICAgICAgIGV4cGVjdChcIi9pbkFwcHMvdjIvaGlzdG9yeS8xMjM0XCIpLnRvQmUocGF0aClcbiAgICAgICAgICAgICBleHBlY3QoXCJyZXZpc2lvbl9pbnB1dFwiKS50b0JlKHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5nZXQoXCJyZXZpc2lvblwiKSlcbiAgICAgICAgICAgICBleHBlY3QoXCIxMjM0NTVcIikudG9CZShwYXJzZWRRdWVyeVBhcmFtZXRlcnMuZ2V0KFwic3RhcnREYXRlXCIpKVxuICAgICAgICAgICAgIGV4cGVjdChcIjEyMzQ1NlwiKS50b0JlKHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5nZXQoXCJlbmREYXRlXCIpKVxuICAgICAgICAgICAgIGV4cGVjdChbXCJjb20uZXhhbXBsZS4xXCIsIFwiY29tLmV4YW1wbGUuMlwiXSkudG9TdHJpY3RFcXVhbChwYXJzZWRRdWVyeVBhcmFtZXRlcnMuZ2V0QWxsKFwicHJvZHVjdElkXCIpKVxuICAgICAgICAgICAgIGV4cGVjdChbXCJDT05TVU1BQkxFXCIsIFwiQVVUT19SRU5FV0FCTEVcIl0pLnRvU3RyaWN0RXF1YWwocGFyc2VkUXVlcnlQYXJhbWV0ZXJzLmdldEFsbChcInByb2R1Y3RUeXBlXCIpKVxuICAgICAgICAgICAgIGV4cGVjdChcIkFTQ0VORElOR1wiKS50b0JlKHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5nZXQoXCJzb3J0XCIpKVxuICAgICAgICAgICAgIGV4cGVjdChbXCJzdWJfZ3JvdXBfaWRcIiwgXCJzdWJfZ3JvdXBfaWRfMlwiXSkudG9TdHJpY3RFcXVhbChwYXJzZWRRdWVyeVBhcmFtZXRlcnMuZ2V0QWxsKFwic3Vic2NyaXB0aW9uR3JvdXBJZGVudGlmaWVyXCIpKVxuICAgICAgICAgICAgIGV4cGVjdChcIkZBTUlMWV9TSEFSRURcIikudG9CZShwYXJzZWRRdWVyeVBhcmFtZXRlcnMuZ2V0KFwiaW5BcHBPd25lcnNoaXBUeXBlXCIpKVxuICAgICAgICAgICAgIGV4cGVjdChcImZhbHNlXCIpLnRvQmUocGFyc2VkUXVlcnlQYXJhbWV0ZXJzLmdldChcInJldm9rZWRcIikpXG4gICAgICAgICAgICAgZXhwZWN0KHJlcXVlc3RCb2R5KS50b0JlVW5kZWZpbmVkKClcbiAgICAgICAgIH0pO1xuIFxuICAgICAgICAgY29uc3QgcmVxdWVzdDogVHJhbnNhY3Rpb25IaXN0b3J5UmVxdWVzdCA9IHtcbiAgICAgICAgICAgICBzb3J0OiBPcmRlci5BU0NFTkRJTkcsXG4gICAgICAgICAgICAgcHJvZHVjdFR5cGVzOiBbUHJvZHVjdFR5cGUuQ09OU1VNQUJMRSwgUHJvZHVjdFR5cGUuQVVUT19SRU5FV0FCTEVdLFxuICAgICAgICAgICAgIGVuZERhdGU6IDEyMzQ1NixcbiAgICAgICAgICAgICBzdGFydERhdGU6IDEyMzQ1NSxcbiAgICAgICAgICAgICByZXZva2VkOiBmYWxzZSxcbiAgICAgICAgICAgICBpbkFwcE93bmVyc2hpcFR5cGU6IEluQXBwT3duZXJzaGlwVHlwZS5GQU1JTFlfU0hBUkVELFxuICAgICAgICAgICAgIHByb2R1Y3RJZHM6IFtcImNvbS5leGFtcGxlLjFcIiwgXCJjb20uZXhhbXBsZS4yXCJdLFxuICAgICAgICAgICAgIHN1YnNjcmlwdGlvbkdyb3VwSWRlbnRpZmllcnM6IFtcInN1Yl9ncm91cF9pZFwiLCBcInN1Yl9ncm91cF9pZF8yXCJdXG4gICAgICAgICB9XG4gXG4gICAgICAgICBjb25zdCBoaXN0b3J5UmVzcG9uc2UgPSBhd2FpdCBjbGllbnQuZ2V0VHJhbnNhY3Rpb25IaXN0b3J5KFwiMTIzNFwiLCBcInJldmlzaW9uX2lucHV0XCIsIHJlcXVlc3QsIEdldFRyYW5zYWN0aW9uSGlzdG9yeVZlcnNpb24uVjIpO1xuIFxuICAgICAgICAgZXhwZWN0KGhpc3RvcnlSZXNwb25zZSkudG9CZVRydXRoeSgpXG4gICAgICAgICBleHBlY3QoXCJyZXZpc2lvbl9vdXRwdXRcIikudG9CZShoaXN0b3J5UmVzcG9uc2UucmV2aXNpb24pXG4gICAgICAgICBleHBlY3QoaGlzdG9yeVJlc3BvbnNlLmhhc01vcmUpLnRvQmUodHJ1ZSlcbiAgICAgICAgIGV4cGVjdChcImNvbS5leGFtcGxlXCIpLnRvQmUoaGlzdG9yeVJlc3BvbnNlLmJ1bmRsZUlkKVxuICAgICAgICAgZXhwZWN0KDMyMzIzMikudG9CZShoaXN0b3J5UmVzcG9uc2UuYXBwQXBwbGVJZClcbiAgICAgICAgIGV4cGVjdChFbnZpcm9ubWVudC5MT0NBTF9URVNUSU5HKS50b0JlKGhpc3RvcnlSZXNwb25zZS5lbnZpcm9ubWVudClcbiAgICAgICAgIGV4cGVjdChbXCJzaWduZWRfdHJhbnNhY3Rpb25fdmFsdWVcIiwgXCJzaWduZWRfdHJhbnNhY3Rpb25fdmFsdWUyXCJdKS50b1N0cmljdEVxdWFsKGhpc3RvcnlSZXNwb25zZS5zaWduZWRUcmFuc2FjdGlvbnMpXG4gICAgIH0pXG5cbiAgICBpdCgnY2FsbHMgZ2V0VHJhbnNhY3Rpb25JbmZvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgIGNvbnN0IGNsaWVudCA9IGdldENsaWVudFdpdGhCb2R5KFwidGVzdHMvcmVzb3VyY2VzL21vZGVscy90cmFuc2FjdGlvbkluZm9SZXNwb25zZS5qc29uXCIsIChwYXRoOiBzdHJpbmcsIHBhcnNlZFF1ZXJ5UGFyYW1ldGVyczogVVJMU2VhcmNoUGFyYW1zLCBtZXRob2Q6IHN0cmluZywgcmVxdWVzdEJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IHVuZGVmaW5lZCwgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH0pID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChcIkdFVFwiKS50b0JlKG1ldGhvZClcbiAgICAgICAgICAgIGV4cGVjdChcIi9pbkFwcHMvdjEvdHJhbnNhY3Rpb25zLzEyMzRcIikudG9CZShwYXRoKVxuICAgICAgICAgICAgZXhwZWN0KHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5lbnRyaWVzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgICAgICAgZXhwZWN0KHJlcXVlc3RCb2R5KS50b0JlVW5kZWZpbmVkKClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25JbmZvUmVzcG9uc2UgPSBhd2FpdCBjbGllbnQuZ2V0VHJhbnNhY3Rpb25JbmZvKFwiMTIzNFwiKTtcblxuICAgICAgICBleHBlY3QodHJhbnNhY3Rpb25JbmZvUmVzcG9uc2UpLnRvQmVUcnV0aHkoKVxuICAgICAgICBleHBlY3QoXCJzaWduZWRfdHJhbnNhY3Rpb25faW5mb192YWx1ZVwiKS50b0JlKHRyYW5zYWN0aW9uSW5mb1Jlc3BvbnNlLnNpZ25lZFRyYW5zYWN0aW9uSW5mbylcbiAgICB9KVxuXG4gICAgaXQoJ2NhbGxzIGxvb2tVcE9yZGVySWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50V2l0aEJvZHkoXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL2xvb2t1cE9yZGVySWRSZXNwb25zZS5qc29uXCIsIChwYXRoOiBzdHJpbmcsIHBhcnNlZFF1ZXJ5UGFyYW1ldGVyczogVVJMU2VhcmNoUGFyYW1zLCBtZXRob2Q6IHN0cmluZywgcmVxdWVzdEJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IHVuZGVmaW5lZCwgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH0pID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChcIkdFVFwiKS50b0JlKG1ldGhvZClcbiAgICAgICAgICAgIGV4cGVjdChcIi9pbkFwcHMvdjEvbG9va3VwL1cwMDIxODJcIikudG9CZShwYXRoKVxuICAgICAgICAgICAgZXhwZWN0KHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5lbnRyaWVzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgICAgICAgZXhwZWN0KHJlcXVlc3RCb2R5KS50b0JlVW5kZWZpbmVkKClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgb3JkZXJMb29rdXBSZXNwb25zZSA9IGF3YWl0IGNsaWVudC5sb29rVXBPcmRlcklkKFwiVzAwMjE4MlwiKTtcblxuICAgICAgICBleHBlY3Qob3JkZXJMb29rdXBSZXNwb25zZSkudG9CZVRydXRoeSgpXG4gICAgICAgIGV4cGVjdChPcmRlckxvb2t1cFN0YXR1cy5JTlZBTElEKS50b0JlKG9yZGVyTG9va3VwUmVzcG9uc2Uuc3RhdHVzKVxuICAgICAgICBleHBlY3QoW1wic2lnbmVkX3RyYW5zYWN0aW9uX29uZVwiLCBcInNpZ25lZF90cmFuc2FjdGlvbl90d29cIl0pLnRvU3RyaWN0RXF1YWwob3JkZXJMb29rdXBSZXNwb25zZS5zaWduZWRUcmFuc2FjdGlvbnMpXG4gICAgfSlcblxuICAgIGl0KCdjYWxscyByZXF1ZXN0VGVzdE5vdGlmaWNhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnRXaXRoQm9keShcInRlc3RzL3Jlc291cmNlcy9tb2RlbHMvcmVxdWVzdFRlc3ROb3RpZmljYXRpb25SZXNwb25zZS5qc29uXCIsIChwYXRoOiBzdHJpbmcsIHBhcnNlZFF1ZXJ5UGFyYW1ldGVyczogVVJMU2VhcmNoUGFyYW1zLCBtZXRob2Q6IHN0cmluZywgcmVxdWVzdEJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IHVuZGVmaW5lZCwgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH0pID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChcIlBPU1RcIikudG9CZShtZXRob2QpXG4gICAgICAgICAgICBleHBlY3QoXCIvaW5BcHBzL3YxL25vdGlmaWNhdGlvbnMvdGVzdFwiKS50b0JlKHBhdGgpXG4gICAgICAgICAgICBleHBlY3QocGFyc2VkUXVlcnlQYXJhbWV0ZXJzLmVudHJpZXMubGVuZ3RoKS50b0JlKDApXG4gICAgICAgICAgICBleHBlY3QocmVxdWVzdEJvZHkpLnRvQmVVbmRlZmluZWQoKVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzZW5kVGVzdE5vdGlmaWNhdGlvblJlc3BvbnNlID0gYXdhaXQgY2xpZW50LnJlcXVlc3RUZXN0Tm90aWZpY2F0aW9uKCk7XG5cbiAgICAgICAgZXhwZWN0KHNlbmRUZXN0Tm90aWZpY2F0aW9uUmVzcG9uc2UpLnRvQmVUcnV0aHkoKVxuICAgICAgICBleHBlY3QoXCJjZTNhZjc5MS0zNjVlLTRjNjAtODQxYi0xNjc0YjQzYzE2MDlcIikudG9CZShzZW5kVGVzdE5vdGlmaWNhdGlvblJlc3BvbnNlLnRlc3ROb3RpZmljYXRpb25Ub2tlbilcbiAgICB9KVxuXG4gICAgaXQoJ2NhbGxzIHNlbmRDb25zdW1wdGlvbkRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgY29uc3QgY2xpZW50ID0gZ2V0QXBwU3RvcmVTZXJ2ZXJBUElDbGllbnQoXCJcIiwgMjAwLCAocGF0aDogc3RyaW5nLCBwYXJzZWRRdWVyeVBhcmFtZXRlcnM6IFVSTFNlYXJjaFBhcmFtcywgbWV0aG9kOiBzdHJpbmcsIHJlcXVlc3RCb2R5OiBzdHJpbmcgfCBCdWZmZXIgfCB1bmRlZmluZWQsIGhlYWRlcnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9KSA9PiB7XG4gICAgICAgICAgICBleHBlY3QoXCJQVVRcIikudG9CZShtZXRob2QpXG4gICAgICAgICAgICBleHBlY3QoXCIvaW5BcHBzL3YxL3RyYW5zYWN0aW9ucy9jb25zdW1wdGlvbi80OTU3MTI3M1wiKS50b0JlKHBhdGgpXG4gICAgICAgICAgICBleHBlY3QocGFyc2VkUXVlcnlQYXJhbWV0ZXJzLmVudHJpZXMubGVuZ3RoKS50b0JlKDApXG5cbiAgICAgICAgICAgIGV4cGVjdChyZXF1ZXN0Qm9keSkudG9CZVRydXRoeSgpXG4gICAgICAgICAgICBleHBlY3QodHlwZW9mIHJlcXVlc3RCb2R5KS50b0JlKCdzdHJpbmcnKVxuICAgICAgICAgICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UocmVxdWVzdEJvZHkgYXMgc3RyaW5nKVxuICAgICAgICAgICAgZXhwZWN0KGJvZHkuY3VzdG9tZXJDb25zZW50ZWQpLnRvQmUodHJ1ZSlcbiAgICAgICAgICAgIGV4cGVjdCgxKS50b0JlKGJvZHkuY29uc3VtcHRpb25TdGF0dXMpXG4gICAgICAgICAgICBleHBlY3QoMikudG9CZShib2R5LnBsYXRmb3JtKVxuICAgICAgICAgICAgZXhwZWN0KGJvZHkuc2FtcGxlQ29udGVudFByb3ZpZGVkKS50b0JlKGZhbHNlKVxuICAgICAgICAgICAgZXhwZWN0KDMpLnRvQmUoYm9keS5kZWxpdmVyeVN0YXR1cylcbiAgICAgICAgICAgIGV4cGVjdChcIjczODlhMzFhLWZiNmQtNDU2OS1hMmE2LWRiN2Q4NWQ4NDgxM1wiKS50b0JlKGJvZHkuYXBwQWNjb3VudFRva2VuKVxuICAgICAgICAgICAgZXhwZWN0KDQpLnRvQmUoYm9keS5hY2NvdW50VGVudXJlKVxuICAgICAgICAgICAgZXhwZWN0KDUpLnRvQmUoYm9keS5wbGF5VGltZSlcbiAgICAgICAgICAgIGV4cGVjdCg2KS50b0JlKGJvZHkubGlmZXRpbWVEb2xsYXJzUmVmdW5kZWQpXG4gICAgICAgICAgICBleHBlY3QoNykudG9CZShib2R5LmxpZmV0aW1lRG9sbGFyc1B1cmNoYXNlZClcbiAgICAgICAgICAgIGV4cGVjdCg0KS50b0JlKGJvZHkudXNlclN0YXR1cylcbiAgICAgICAgICAgIGV4cGVjdCgzKS50b0JlKGJvZHkucmVmdW5kUHJlZmVyZW5jZSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgY29uc3VtcHRpb25SZXF1ZXN0OiBDb25zdW1wdGlvblJlcXVlc3QgPSB7XG4gICAgICAgICAgICBjdXN0b21lckNvbnNlbnRlZDogdHJ1ZSxcbiAgICAgICAgICAgIGNvbnN1bXB0aW9uU3RhdHVzOiBDb25zdW1wdGlvblN0YXR1cy5OT1RfQ09OU1VNRUQsXG4gICAgICAgICAgICBwbGF0Zm9ybTogUGxhdGZvcm0uTk9OX0FQUExFLFxuICAgICAgICAgICAgc2FtcGxlQ29udGVudFByb3ZpZGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGRlbGl2ZXJ5U3RhdHVzOiBEZWxpdmVyeVN0YXR1cy5ESURfTk9UX0RFTElWRVJfRFVFX1RPX1NFUlZFUl9PVVRBR0UsXG4gICAgICAgICAgICBhcHBBY2NvdW50VG9rZW46IFwiNzM4OWEzMWEtZmI2ZC00NTY5LWEyYTYtZGI3ZDg1ZDg0ODEzXCIsXG4gICAgICAgICAgICBhY2NvdW50VGVudXJlOiBBY2NvdW50VGVudXJlLlRISVJUWV9EQVlTX1RPX05JTkVUWV9EQVlTLFxuICAgICAgICAgICAgcGxheVRpbWU6IFBsYXlUaW1lLk9ORV9EQVlfVE9fRk9VUl9EQVlTLFxuICAgICAgICAgICAgbGlmZXRpbWVEb2xsYXJzUmVmdW5kZWQ6IExpZmV0aW1lRG9sbGFyc1JlZnVuZGVkLk9ORV9USE9VU0FORF9ET0xMQVJTX1RPX09ORV9USE9VU0FORF9OSU5FX0hVTkRSRURfTklORVRZX05JTkVfRE9MTEFSU19BTkRfTklORVRZX05JTkVfQ0VOVFMsXG4gICAgICAgICAgICBsaWZldGltZURvbGxhcnNQdXJjaGFzZWQ6IExpZmV0aW1lRG9sbGFyc1B1cmNoYXNlZC5UV09fVEhPVVNBTkRfRE9MTEFSU19PUl9HUkVBVEVSLFxuICAgICAgICAgICAgdXNlclN0YXR1czogVXNlclN0YXR1cy5MSU1JVEVEX0FDQ0VTUyxcbiAgICAgICAgICAgIHJlZnVuZFByZWZlcmVuY2U6IFJlZnVuZFByZWZlcmVuY2UuTk9fUFJFRkVSRU5DRVxuICAgICAgICB9XG5cbiAgICAgICAgY2xpZW50LnNlbmRDb25zdW1wdGlvbkRhdGEoXCI0OTU3MTI3M1wiLCBjb25zdW1wdGlvblJlcXVlc3QpO1xuICAgIH0pXG5cbiAgICBpdCgnY2FsbHMgZ2V0VHJhbnNhY3Rpb25JbmZvIGJ1dCByZWNlaXZlcyBhIGdlbmVyYWwgaW50ZXJuYWwgZXJyb3InLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGdldENsaWVudFdpdGhCb2R5KFwidGVzdHMvcmVzb3VyY2VzL21vZGVscy9hcGlFeGNlcHRpb24uanNvblwiLCAocGF0aDogc3RyaW5nLCBwYXJzZWRRdWVyeVBhcmFtZXRlcnM6IFVSTFNlYXJjaFBhcmFtcywgbWV0aG9kOiBzdHJpbmcsIHJlcXVlc3RCb2R5OiBzdHJpbmcgfCBCdWZmZXIgfCB1bmRlZmluZWQsIGhlYWRlcnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9KSA9PiB7XG4gICAgICAgICAgICAgZXhwZWN0KFwiR0VUXCIpLnRvQmUobWV0aG9kKVxuICAgICAgICAgICAgIGV4cGVjdChcIi9pbkFwcHMvdjEvdHJhbnNhY3Rpb25zLzEyMzRcIikudG9CZShwYXRoKVxuICAgICAgICAgICAgIGV4cGVjdChwYXJzZWRRdWVyeVBhcmFtZXRlcnMuZW50cmllcy5sZW5ndGgpLnRvQmUoMClcbiAgICAgICAgICAgICBleHBlY3QocmVxdWVzdEJvZHkpLnRvQmVVbmRlZmluZWQoKVxuICAgICAgICAgfSwgNTAwKTtcbiBcbiAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbkluZm9SZXNwb25zZSA9IGF3YWl0IGNsaWVudC5nZXRUcmFuc2FjdGlvbkluZm8oXCIxMjM0XCIpO1xuICAgICAgICAgICAgZmFpbCgndGhpcyB0ZXN0IGNhbGwgaXMgZXhwZWN0ZWQgdG8gdGhyb3cnKVxuICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbGV0IGVycm9yID0gZSBhcyBBUElFeGNlcHRpb25cbiAgICAgICAgICAgIGV4cGVjdChlcnJvci5odHRwU3RhdHVzQ29kZSkudG9CZSg1MDApXG4gICAgICAgICAgICBleHBlY3QoZXJyb3IuYXBpRXJyb3IpLnRvQmUoQVBJRXJyb3IuR0VORVJBTF9JTlRFUk5BTClcbiAgICAgICAgICAgIGV4cGVjdChlcnJvci5lcnJvck1lc3NhZ2UpLnRvQmUoXCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLlwiKVxuICAgICAgICAgfVxuICAgICB9KVxuXG4gICAgIGl0KCdjYWxscyBnZXRUcmFuc2FjdGlvbkluZm8gYnV0IHJlY2VpdmVzIGEgcmF0ZSBsaW1pdCBleGNlZWRlZCBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50V2l0aEJvZHkoXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL2FwaVRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvbi5qc29uXCIsIChwYXRoOiBzdHJpbmcsIHBhcnNlZFF1ZXJ5UGFyYW1ldGVyczogVVJMU2VhcmNoUGFyYW1zLCBtZXRob2Q6IHN0cmluZywgcmVxdWVzdEJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IHVuZGVmaW5lZCwgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH0pID0+IHtcbiAgICAgICAgICAgICBleHBlY3QoXCJHRVRcIikudG9CZShtZXRob2QpXG4gICAgICAgICAgICAgZXhwZWN0KFwiL2luQXBwcy92MS90cmFuc2FjdGlvbnMvMTIzNFwiKS50b0JlKHBhdGgpXG4gICAgICAgICAgICAgZXhwZWN0KHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5lbnRyaWVzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgICAgICAgIGV4cGVjdChyZXF1ZXN0Qm9keSkudG9CZVVuZGVmaW5lZCgpXG4gICAgICAgICB9LCA0MjkpO1xuIFxuICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uSW5mb1Jlc3BvbnNlID0gYXdhaXQgY2xpZW50LmdldFRyYW5zYWN0aW9uSW5mbyhcIjEyMzRcIik7XG4gICAgICAgICAgICBmYWlsKCd0aGlzIHRlc3QgY2FsbCBpcyBleHBlY3RlZCB0byB0aHJvdycpXG4gICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsZXQgZXJyb3IgPSBlIGFzIEFQSUV4Y2VwdGlvblxuICAgICAgICAgICAgZXhwZWN0KGVycm9yLmh0dHBTdGF0dXNDb2RlKS50b0JlKDQyOSlcbiAgICAgICAgICAgIGV4cGVjdChlcnJvci5hcGlFcnJvcikudG9CZShBUElFcnJvci5SQVRFX0xJTUlUX0VYQ0VFREVEKVxuICAgICAgICAgICAgZXhwZWN0KGVycm9yLmVycm9yTWVzc2FnZSkudG9CZShcIlJhdGUgbGltaXQgZXhjZWVkZWQuXCIpXG4gICAgICAgICB9XG4gICAgIH0pXG5cbiAgICAgaXQoJ2NhbGxzIGdldFRyYW5zYWN0aW9uSW5mbyBidXQgcmVjZWl2ZXMgYW4gdW5rbm93bi9uZXcgZXJyb3IgY29kZScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50V2l0aEJvZHkoXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL2FwaVVua25vd25FcnJvci5qc29uXCIsIChwYXRoOiBzdHJpbmcsIHBhcnNlZFF1ZXJ5UGFyYW1ldGVyczogVVJMU2VhcmNoUGFyYW1zLCBtZXRob2Q6IHN0cmluZywgcmVxdWVzdEJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IHVuZGVmaW5lZCwgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH0pID0+IHtcbiAgICAgICAgICAgICBleHBlY3QoXCJHRVRcIikudG9CZShtZXRob2QpXG4gICAgICAgICAgICAgZXhwZWN0KFwiL2luQXBwcy92MS90cmFuc2FjdGlvbnMvMTIzNFwiKS50b0JlKHBhdGgpXG4gICAgICAgICAgICAgZXhwZWN0KHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5lbnRyaWVzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgICAgICAgIGV4cGVjdChyZXF1ZXN0Qm9keSkudG9CZVVuZGVmaW5lZCgpXG4gICAgICAgICB9LCA0MDApO1xuIFxuICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uSW5mb1Jlc3BvbnNlID0gYXdhaXQgY2xpZW50LmdldFRyYW5zYWN0aW9uSW5mbyhcIjEyMzRcIik7XG4gICAgICAgICAgICBmYWlsKCd0aGlzIHRlc3QgY2FsbCBpcyBleHBlY3RlZCB0byB0aHJvdycpXG4gICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsZXQgZXJyb3IgPSBlIGFzIEFQSUV4Y2VwdGlvblxuICAgICAgICAgICAgZXhwZWN0KGVycm9yLmh0dHBTdGF0dXNDb2RlKS50b0JlKDQwMClcbiAgICAgICAgICAgIGV4cGVjdChlcnJvci5hcGlFcnJvcikudG9CZSg5OTkwMDAwKVxuICAgICAgICAgICAgZXhwZWN0KGVycm9yLmVycm9yTWVzc2FnZSkudG9CZShcIlRlc3RpbmcgZXJyb3IuXCIpXG4gICAgICAgICB9XG4gICAgIH0pXG5cbiAgICAgaXQoJ2NhbGxzIGdldFRyYW5zYWN0aW9uSGlzdG9yeSBidXQgcmVjZWl2ZXMgYW4gdW5rbm93biBlbnZpcm9ubWVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50V2l0aEJvZHkoXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL3RyYW5zYWN0aW9uSGlzdG9yeVJlc3BvbnNlV2l0aE1hbGZvcm1lZEVudmlyb25tZW50Lmpzb25cIiwgKHBhdGg6IHN0cmluZywgcGFyc2VkUXVlcnlQYXJhbWV0ZXJzOiBVUkxTZWFyY2hQYXJhbXMsIG1ldGhvZDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nIHwgQnVmZmVyIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfSkgPT4ge1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0OiBUcmFuc2FjdGlvbkhpc3RvcnlSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgc29ydDogT3JkZXIuQVNDRU5ESU5HLFxuICAgICAgICAgICAgcHJvZHVjdFR5cGVzOiBbUHJvZHVjdFR5cGUuQ09OU1VNQUJMRSwgUHJvZHVjdFR5cGUuQVVUT19SRU5FV0FCTEVdLFxuICAgICAgICAgICAgZW5kRGF0ZTogMTIzNDU2LFxuICAgICAgICAgICAgc3RhcnREYXRlOiAxMjM0NTUsXG4gICAgICAgICAgICByZXZva2VkOiBmYWxzZSxcbiAgICAgICAgICAgIGluQXBwT3duZXJzaGlwVHlwZTogSW5BcHBPd25lcnNoaXBUeXBlLkZBTUlMWV9TSEFSRUQsXG4gICAgICAgICAgICBwcm9kdWN0SWRzOiBbXCJjb20uZXhhbXBsZS4xXCIsIFwiY29tLmV4YW1wbGUuMlwiXSxcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbkdyb3VwSWRlbnRpZmllcnM6IFtcInN1Yl9ncm91cF9pZFwiLCBcInN1Yl9ncm91cF9pZF8yXCJdXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoaXN0b3J5UmVzcG9uc2UgPSBhd2FpdCBjbGllbnQuZ2V0VHJhbnNhY3Rpb25IaXN0b3J5KFwiMTIzNFwiLCBcInJldmlzaW9uX2lucHV0XCIsIHJlcXVlc3QsIEdldFRyYW5zYWN0aW9uSGlzdG9yeVZlcnNpb24uVjIpO1xuICAgICAgICBleHBlY3QoaGlzdG9yeVJlc3BvbnNlLmVudmlyb25tZW50KS50b0JlKFwiTG9jYWxUZXN0aW5neHh4XCIpXG4gICAgIH0pXG5cbiAgICAgaXQoJ2NhbGxzIGdldFRyYW5zYWN0aW9uSGlzdG9yeSBidXQgcmVjZWl2ZXMgYSBtYWxmb3JtZWQgYXBwQXBwbGVJZCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50V2l0aEJvZHkoXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL3RyYW5zYWN0aW9uSGlzdG9yeVJlc3BvbnNlV2l0aE1hbGZvcm1lZEFwcEFwcGxlSWQuanNvblwiLCAocGF0aDogc3RyaW5nLCBwYXJzZWRRdWVyeVBhcmFtZXRlcnM6IFVSTFNlYXJjaFBhcmFtcywgbWV0aG9kOiBzdHJpbmcsIHJlcXVlc3RCb2R5OiBzdHJpbmcgfCBCdWZmZXIgfCB1bmRlZmluZWQsIGhlYWRlcnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9KSA9PiB7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3Q6IFRyYW5zYWN0aW9uSGlzdG9yeVJlcXVlc3QgPSB7XG4gICAgICAgICAgICBzb3J0OiBPcmRlci5BU0NFTkRJTkcsXG4gICAgICAgICAgICBwcm9kdWN0VHlwZXM6IFtQcm9kdWN0VHlwZS5DT05TVU1BQkxFLCBQcm9kdWN0VHlwZS5BVVRPX1JFTkVXQUJMRV0sXG4gICAgICAgICAgICBlbmREYXRlOiAxMjM0NTYsXG4gICAgICAgICAgICBzdGFydERhdGU6IDEyMzQ1NSxcbiAgICAgICAgICAgIHJldm9rZWQ6IGZhbHNlLFxuICAgICAgICAgICAgaW5BcHBPd25lcnNoaXBUeXBlOiBJbkFwcE93bmVyc2hpcFR5cGUuRkFNSUxZX1NIQVJFRCxcbiAgICAgICAgICAgIHByb2R1Y3RJZHM6IFtcImNvbS5leGFtcGxlLjFcIiwgXCJjb20uZXhhbXBsZS4yXCJdLFxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uR3JvdXBJZGVudGlmaWVyczogW1wic3ViX2dyb3VwX2lkXCIsIFwic3ViX2dyb3VwX2lkXzJcIl1cbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBjbGllbnQuZ2V0VHJhbnNhY3Rpb25IaXN0b3J5KFwiMTIzNFwiLCBcInJldmlzaW9uX2lucHV0XCIsIHJlcXVlc3QpO1xuICAgICAgICAgICAgZmFpbCgndGhpcyB0ZXN0IGNhbGwgaXMgZXhwZWN0ZWQgdG8gdGhyb3cnKVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgfSlcbiAgICAgXG4gICAgIGl0KCd0aHJvd3MgYW4gZXJyb3Igd2hlbiB0aGUgWENPREUgZW52aXJvbm1lbnQgaXMgcGFzc2VkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldFNpZ25pbmdLZXkoKVxuICAgICAgICAgICAgbmV3IEFwcFN0b3JlU2VydmVyQVBJQ2xpZW50KGtleSwgXCJrZXlJZFwiLCBcImlzc3VlcklkXCIsIFwiYnVuZGxlSWRcIiwgRW52aXJvbm1lbnQuWENPREUpXG4gICAgICAgICAgICBmYWlsKCd0aGlzIHRlc3QgY2FsbCBpcyBleHBlY3RlZCB0byB0aHJvdycpXG4gICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsZXQgZXJyb3IgPSBlIGFzIEVycm9yXG4gICAgICAgICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG9CZShcIlhjb2RlIGlzIG5vdCBhIHN1cHBvcnRlZCBlbnZpcm9ubWVudCBmb3IgYW4gQXBwU3RvcmVTZXJ2ZXJBUElDbGllbnRcIilcbiAgICAgICAgIH1cbiAgICAgfSlcblxuICAgIGl0KCdjYWxscyBzZXRBcHBBY2NvdW50VG9rZW4nLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGdldEFwcFN0b3JlU2VydmVyQVBJQ2xpZW50KFwiXCIsIDIwMCwgKHBhdGg6IHN0cmluZywgcGFyc2VkUXVlcnlQYXJhbWV0ZXJzOiBVUkxTZWFyY2hQYXJhbXMsIG1ldGhvZDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nIHwgQnVmZmVyIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfSkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KFwiUFVUXCIpLnRvQmUobWV0aG9kKVxuICAgICAgICAgICAgZXhwZWN0KFwiL2luQXBwcy92MS90cmFuc2FjdGlvbnMvNDk1NzEyNzMvYXBwQWNjb3VudFRva2VuXCIpLnRvQmUocGF0aClcbiAgICAgICAgICAgIGV4cGVjdChwYXJzZWRRdWVyeVBhcmFtZXRlcnMuZW50cmllcy5sZW5ndGgpLnRvQmUoMClcblxuICAgICAgICAgICAgZXhwZWN0KHJlcXVlc3RCb2R5KS50b0JlVHJ1dGh5KClcbiAgICAgICAgICAgIGV4cGVjdCh0eXBlb2YgcmVxdWVzdEJvZHkpLnRvQmUoJ3N0cmluZycpXG4gICAgICAgICAgICBjb25zdCBib2R5ID0gSlNPTi5wYXJzZShyZXF1ZXN0Qm9keSBhcyBzdHJpbmcpXG4gICAgICAgICAgICBleHBlY3QoXCI3Mzg5YTMxYS1mYjZkLTQ1NjktYTJhNi1kYjdkODVkODQ4MTNcIikudG9CZShib2R5LmFwcEFjY291bnRUb2tlbilcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdXBkYXRlQXBwQWNjb3VudFRva2VuUmVxdWVzdDogVXBkYXRlQXBwQWNjb3VudFRva2VuUmVxdWVzdCA9IHtcbiAgICAgICAgICAgIGFwcEFjY291bnRUb2tlbjogXCI3Mzg5YTMxYS1mYjZkLTQ1NjktYTJhNi1kYjdkODVkODQ4MTNcIlxuICAgICAgICB9XG5cbiAgICAgICAgY2xpZW50LnNldEFwcEFjY291bnRUb2tlbihcIjQ5NTcxMjczXCIsIHVwZGF0ZUFwcEFjY291bnRUb2tlblJlcXVlc3QpO1xuICAgIH0pXG5cbiAgICBpdCgnY2FsbHMgc2V0QXBwQWNjb3VudFRva2VuIGJ1dCByZWNlaXZlcyBhbiBpbnZhbGlkIFVVSUQgZXJyb3InLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGdldENsaWVudFdpdGhCb2R5KFwidGVzdHMvcmVzb3VyY2VzL21vZGVscy9pbnZhbGlkQXBwQWNjb3VudFRva2VuVVVJREVycm9yLmpzb25cIiwgKHBhdGg6IHN0cmluZywgcGFyc2VkUXVlcnlQYXJhbWV0ZXJzOiBVUkxTZWFyY2hQYXJhbXMsIG1ldGhvZDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nIHwgQnVmZmVyIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfSkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KFwiUFVUXCIpLnRvQmUobWV0aG9kKVxuICAgICAgICAgICAgZXhwZWN0KFwiL2luQXBwcy92MS90cmFuc2FjdGlvbnMvNDk1NzEyNzMvYXBwQWNjb3VudFRva2VuXCIpLnRvQmUocGF0aClcbiAgICAgICAgICAgIGV4cGVjdChwYXJzZWRRdWVyeVBhcmFtZXRlcnMuZW50cmllcy5sZW5ndGgpLnRvQmUoMClcbiAgICAgICAgICAgIGV4cGVjdChyZXF1ZXN0Qm9keSkudG9CZVRydXRoeSgpXG4gICAgICAgIH0sIDQwMCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZUFwcEFjY291bnRUb2tlblJlcXVlc3Q6IFVwZGF0ZUFwcEFjY291bnRUb2tlblJlcXVlc3QgPSB7XG4gICAgICAgICAgICAgICAgYXBwQWNjb3VudFRva2VuOiBcImFiY1wiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBjbGllbnQuc2V0QXBwQWNjb3VudFRva2VuKFwiNDk1NzEyNzNcIiwgdXBkYXRlQXBwQWNjb3VudFRva2VuUmVxdWVzdCk7XG4gICAgICAgICAgICBmYWlsKCd0aGlzIHRlc3QgY2FsbCBpcyBleHBlY3RlZCB0byB0aHJvdycpXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxldCBlcnJvciA9IGUgYXMgQVBJRXhjZXB0aW9uXG4gICAgICAgICAgICBleHBlY3QoZXJyb3IuaHR0cFN0YXR1c0NvZGUpLnRvQmUoNDAwKVxuICAgICAgICAgICAgZXhwZWN0KGVycm9yLmFwaUVycm9yKS50b0JlKDQwMDAxODMpXG4gICAgICAgICAgICBleHBlY3QoZXJyb3IuZXJyb3JNZXNzYWdlKS50b0JlKFwiSW52YWxpZCByZXF1ZXN0LiBUaGUgYXBwIGFjY291bnQgdG9rZW4gZmllbGQgbXVzdCBiZSBhIHZhbGlkIFVVSUQuXCIpXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgaXQoJ2NhbGxzIHNldEFwcEFjY291bnRUb2tlbiBidXQgcmVjZWl2ZXMgZmFtaWx5IHRyYW5zYWN0aW9uIG5vdCBzdXBwb3J0ZWQgZXJyb3InLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGdldENsaWVudFdpdGhCb2R5KFwidGVzdHMvcmVzb3VyY2VzL21vZGVscy9mYW1pbHlUcmFuc2FjdGlvbk5vdFN1cHBvcnRlZEVycm9yLmpzb25cIiwgKHBhdGg6IHN0cmluZywgcGFyc2VkUXVlcnlQYXJhbWV0ZXJzOiBVUkxTZWFyY2hQYXJhbXMsIG1ldGhvZDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nIHwgQnVmZmVyIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfSkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KFwiUFVUXCIpLnRvQmUobWV0aG9kKVxuICAgICAgICAgICAgZXhwZWN0KFwiL2luQXBwcy92MS90cmFuc2FjdGlvbnMvMTIzNC9hcHBBY2NvdW50VG9rZW5cIikudG9CZShwYXRoKVxuICAgICAgICAgICAgZXhwZWN0KHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5lbnRyaWVzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgICAgICAgZXhwZWN0KHJlcXVlc3RCb2R5KS50b0JlVHJ1dGh5KClcbiAgICAgICAgfSwgNDAwKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlQXBwQWNjb3VudFRva2VuUmVxdWVzdDogVXBkYXRlQXBwQWNjb3VudFRva2VuUmVxdWVzdCA9IHtcbiAgICAgICAgICAgICAgICBhcHBBY2NvdW50VG9rZW46IFwiNzM4OWEzMWEtZmI2ZC00NTY5LWEyYTYtZGI3ZDg1ZDg0ODEzXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IGNsaWVudC5zZXRBcHBBY2NvdW50VG9rZW4oXCIxMjM0XCIsIHVwZGF0ZUFwcEFjY291bnRUb2tlblJlcXVlc3QpO1xuICAgICAgICAgICAgZmFpbCgndGhpcyB0ZXN0IGNhbGwgaXMgZXhwZWN0ZWQgdG8gdGhyb3cnKVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsZXQgZXJyb3IgPSBlIGFzIEFQSUV4Y2VwdGlvblxuICAgICAgICAgICAgZXhwZWN0KGVycm9yLmh0dHBTdGF0dXNDb2RlKS50b0JlKDQwMClcbiAgICAgICAgICAgIGV4cGVjdChlcnJvci5hcGlFcnJvcikudG9CZSg0MDAwMTg1KVxuICAgICAgICAgICAgZXhwZWN0KGVycm9yLmVycm9yTWVzc2FnZSkudG9CZShcIkludmFsaWQgcmVxdWVzdC4gRmFtaWx5IFNoYXJpbmcgdHJhbnNhY3Rpb25zIGFyZW4ndCBzdXBwb3J0ZWQgYnkgdGhpcyBlbmRwb2ludC5cIilcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBpdCgnY2FsbHMgc2V0QXBwQWNjb3VudFRva2VuIGJ1dCB0cmFuc2FjdGlvbklkIG5vdCBvcmlnaW5hbFRyYW5zYWN0aW9uSWQgZXJyb3InLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGdldENsaWVudFdpdGhCb2R5KFwidGVzdHMvcmVzb3VyY2VzL21vZGVscy90cmFuc2FjdGlvbklkTm90T3JpZ2luYWxUcmFuc2FjdGlvbklkLmpzb25cIiwgKHBhdGg6IHN0cmluZywgcGFyc2VkUXVlcnlQYXJhbWV0ZXJzOiBVUkxTZWFyY2hQYXJhbXMsIG1ldGhvZDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nIHwgQnVmZmVyIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfSkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KFwiUFVUXCIpLnRvQmUobWV0aG9kKVxuICAgICAgICAgICAgZXhwZWN0KFwiL2luQXBwcy92MS90cmFuc2FjdGlvbnMvMTIzNC9hcHBBY2NvdW50VG9rZW5cIikudG9CZShwYXRoKVxuICAgICAgICAgICAgZXhwZWN0KHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5lbnRyaWVzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgICAgICAgZXhwZWN0KHJlcXVlc3RCb2R5KS50b0JlVHJ1dGh5KClcbiAgICAgICAgfSwgNDAwKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlQXBwQWNjb3VudFRva2VuUmVxdWVzdDogVXBkYXRlQXBwQWNjb3VudFRva2VuUmVxdWVzdCA9IHtcbiAgICAgICAgICAgICAgICBhcHBBY2NvdW50VG9rZW46IFwiNzM4OWEzMWEtZmI2ZC00NTY5LWEyYTYtZGI3ZDg1ZDg0ODEzXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IGNsaWVudC5zZXRBcHBBY2NvdW50VG9rZW4oXCIxMjM0XCIsIHVwZGF0ZUFwcEFjY291bnRUb2tlblJlcXVlc3QpO1xuICAgICAgICAgICAgZmFpbCgndGhpcyB0ZXN0IGNhbGwgaXMgZXhwZWN0ZWQgdG8gdGhyb3cnKVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsZXQgZXJyb3IgPSBlIGFzIEFQSUV4Y2VwdGlvblxuICAgICAgICAgICAgZXhwZWN0KGVycm9yLmh0dHBTdGF0dXNDb2RlKS50b0JlKDQwMClcbiAgICAgICAgICAgIGV4cGVjdChlcnJvci5hcGlFcnJvcikudG9CZSg0MDAwMTg3KVxuICAgICAgICAgICAgZXhwZWN0KGVycm9yLmVycm9yTWVzc2FnZSkudG9CZShcIkludmFsaWQgcmVxdWVzdC4gVGhlIHRyYW5zYWN0aW9uIElEIHByb3ZpZGVkIGlzIG5vdCBhbiBvcmlnaW5hbCB0cmFuc2FjdGlvbiBJRC5cIilcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBpdCgnY2FsbHMgdXBsb2FkSW1hZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGdldEFwcFN0b3JlU2VydmVyQVBJQ2xpZW50KFwiXCIsIDIwMCwgKHBhdGg6IHN0cmluZywgcGFyc2VkUXVlcnlQYXJhbWV0ZXJzOiBVUkxTZWFyY2hQYXJhbXMsIG1ldGhvZDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nIHwgQnVmZmVyIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfSkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KFwiUFVUXCIpLnRvQmUobWV0aG9kKVxuICAgICAgICAgICAgZXhwZWN0KFwiL2luQXBwcy92MS9tZXNzYWdpbmcvaW1hZ2UvYTFiMmMzZDQtZTVmNi03ODkwLWExYjItYzNkNGU1ZjY3ODkwXCIpLnRvQmUocGF0aClcbiAgICAgICAgICAgIGV4cGVjdChwYXJzZWRRdWVyeVBhcmFtZXRlcnMuZW50cmllcy5sZW5ndGgpLnRvQmUoMClcbiAgICAgICAgICAgIGV4cGVjdChyZXF1ZXN0Qm9keSkudG9CZVRydXRoeSgpXG4gICAgICAgICAgICBleHBlY3QocmVxdWVzdEJvZHkpLnRvQmVJbnN0YW5jZU9mKEJ1ZmZlcilcbiAgICAgICAgICAgIGV4cGVjdChCdWZmZXIuZnJvbShbMSwgMiwgM10pKS50b0VxdWFsKHJlcXVlc3RCb2R5KVxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBjbGllbnQudXBsb2FkSW1hZ2UoXCJhMWIyYzNkNC1lNWY2LTc4OTAtYTFiMi1jM2Q0ZTVmNjc4OTBcIiwgQnVmZmVyLmZyb20oWzEsIDIsIDNdKSlcbiAgICB9KVxuXG4gICAgaXQoJ2NhbGxzIGRlbGV0ZUltYWdlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBjbGllbnQgPSBnZXRBcHBTdG9yZVNlcnZlckFQSUNsaWVudChcIlwiLCAyMDAsIChwYXRoOiBzdHJpbmcsIHBhcnNlZFF1ZXJ5UGFyYW1ldGVyczogVVJMU2VhcmNoUGFyYW1zLCBtZXRob2Q6IHN0cmluZywgcmVxdWVzdEJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IHVuZGVmaW5lZCwgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH0pID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChcIkRFTEVURVwiKS50b0JlKG1ldGhvZClcbiAgICAgICAgICAgIGV4cGVjdChcIi9pbkFwcHMvdjEvbWVzc2FnaW5nL2ltYWdlL2ExYjJjM2Q0LWU1ZjYtNzg5MC1hMWIyLWMzZDRlNWY2Nzg5MFwiKS50b0JlKHBhdGgpXG4gICAgICAgICAgICBleHBlY3QocGFyc2VkUXVlcnlQYXJhbWV0ZXJzLmVudHJpZXMubGVuZ3RoKS50b0JlKDApXG4gICAgICAgICAgICBleHBlY3QocmVxdWVzdEJvZHkpLnRvQmVVbmRlZmluZWQoKVxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBjbGllbnQuZGVsZXRlSW1hZ2UoXCJhMWIyYzNkNC1lNWY2LTc4OTAtYTFiMi1jM2Q0ZTVmNjc4OTBcIilcbiAgICB9KVxuXG4gICAgaXQoJ2NhbGxzIGdldEltYWdlTGlzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50V2l0aEJvZHkoXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL2dldEltYWdlTGlzdFJlc3BvbnNlLmpzb25cIiwgKHBhdGg6IHN0cmluZywgcGFyc2VkUXVlcnlQYXJhbWV0ZXJzOiBVUkxTZWFyY2hQYXJhbXMsIG1ldGhvZDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nIHwgQnVmZmVyIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfSkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KFwiR0VUXCIpLnRvQmUobWV0aG9kKVxuICAgICAgICAgICAgZXhwZWN0KFwiL2luQXBwcy92MS9tZXNzYWdpbmcvaW1hZ2UvbGlzdFwiKS50b0JlKHBhdGgpXG4gICAgICAgICAgICBleHBlY3QocGFyc2VkUXVlcnlQYXJhbWV0ZXJzLmVudHJpZXMubGVuZ3RoKS50b0JlKDApXG4gICAgICAgICAgICBleHBlY3QocmVxdWVzdEJvZHkpLnRvQmVVbmRlZmluZWQoKVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNsaWVudC5nZXRJbWFnZUxpc3QoKVxuXG4gICAgICAgIGV4cGVjdChyZXNwb25zZSkudG9CZVRydXRoeSgpXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5pbWFnZUlkZW50aWZpZXJzKS50b0JlRGVmaW5lZCgpXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5pbWFnZUlkZW50aWZpZXJzPy5sZW5ndGgpLnRvQmUoMSlcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmltYWdlSWRlbnRpZmllcnM/LlswXS5pbWFnZUlkZW50aWZpZXIpLnRvQmUoXCJhMWIyYzNkNC1lNWY2LTc4OTAtYTFiMi1jM2Q0ZTVmNjc4OTBcIilcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmltYWdlSWRlbnRpZmllcnM/LlswXS5pbWFnZVN0YXRlKS50b0JlKFwiQVBQUk9WRURcIilcbiAgICB9KVxuXG4gICAgaXQoJ2NhbGxzIHVwbG9hZE1lc3NhZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGdldEFwcFN0b3JlU2VydmVyQVBJQ2xpZW50KFwiXCIsIDIwMCwgKHBhdGg6IHN0cmluZywgcGFyc2VkUXVlcnlQYXJhbWV0ZXJzOiBVUkxTZWFyY2hQYXJhbXMsIG1ldGhvZDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nIHwgQnVmZmVyIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfSkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KFwiUFVUXCIpLnRvQmUobWV0aG9kKVxuICAgICAgICAgICAgZXhwZWN0KFwiL2luQXBwcy92MS9tZXNzYWdpbmcvbWVzc2FnZS9hMWIyYzNkNC1lNWY2LTc4OTAtYTFiMi1jM2Q0ZTVmNjc4OTBcIikudG9CZShwYXRoKVxuICAgICAgICAgICAgZXhwZWN0KHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5lbnRyaWVzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgICAgICAgZXhwZWN0KHJlcXVlc3RCb2R5KS50b0JlVHJ1dGh5KClcbiAgICAgICAgICAgIGV4cGVjdCh0eXBlb2YgcmVxdWVzdEJvZHkpLnRvQmUoJ3N0cmluZycpXG5cbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnBhcnNlKHJlcXVlc3RCb2R5IGFzIHN0cmluZylcbiAgICAgICAgICAgIGV4cGVjdChcIkhlYWRlciB0ZXh0XCIpLnRvQmUoYm9keS5oZWFkZXIpXG4gICAgICAgICAgICBleHBlY3QoXCJCb2R5IHRleHRcIikudG9CZShib2R5LmJvZHkpXG4gICAgICAgICAgICBleHBlY3QoYm9keS5pbWFnZSkudG9CZVVuZGVmaW5lZCgpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHVwbG9hZE1lc3NhZ2VSZXF1ZXN0Qm9keSA9IHtcbiAgICAgICAgICAgIGhlYWRlcjogXCJIZWFkZXIgdGV4dFwiLFxuICAgICAgICAgICAgYm9keTogXCJCb2R5IHRleHRcIlxuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGNsaWVudC51cGxvYWRNZXNzYWdlKFwiYTFiMmMzZDQtZTVmNi03ODkwLWExYjItYzNkNGU1ZjY3ODkwXCIsIHVwbG9hZE1lc3NhZ2VSZXF1ZXN0Qm9keSlcbiAgICB9KVxuXG4gICAgaXQoJ2NhbGxzIHVwbG9hZE1lc3NhZ2Ugd2l0aCBpbWFnZScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gZ2V0QXBwU3RvcmVTZXJ2ZXJBUElDbGllbnQoXCJcIiwgMjAwLCAocGF0aDogc3RyaW5nLCBwYXJzZWRRdWVyeVBhcmFtZXRlcnM6IFVSTFNlYXJjaFBhcmFtcywgbWV0aG9kOiBzdHJpbmcsIHJlcXVlc3RCb2R5OiBzdHJpbmcgfCBCdWZmZXIgfCB1bmRlZmluZWQsIGhlYWRlcnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9KSA9PiB7XG4gICAgICAgICAgICBleHBlY3QoXCJQVVRcIikudG9CZShtZXRob2QpXG4gICAgICAgICAgICBleHBlY3QoXCIvaW5BcHBzL3YxL21lc3NhZ2luZy9tZXNzYWdlL2ExYjJjM2Q0LWU1ZjYtNzg5MC1hMWIyLWMzZDRlNWY2Nzg5MFwiKS50b0JlKHBhdGgpXG4gICAgICAgICAgICBleHBlY3QocGFyc2VkUXVlcnlQYXJhbWV0ZXJzLmVudHJpZXMubGVuZ3RoKS50b0JlKDApXG4gICAgICAgICAgICBleHBlY3QocmVxdWVzdEJvZHkpLnRvQmVUcnV0aHkoKVxuICAgICAgICAgICAgZXhwZWN0KHR5cGVvZiByZXF1ZXN0Qm9keSkudG9CZSgnc3RyaW5nJylcblxuICAgICAgICAgICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UocmVxdWVzdEJvZHkgYXMgc3RyaW5nKVxuICAgICAgICAgICAgZXhwZWN0KFwiSGVhZGVyIHRleHRcIikudG9CZShib2R5LmhlYWRlcilcbiAgICAgICAgICAgIGV4cGVjdChcIkJvZHkgdGV4dFwiKS50b0JlKGJvZHkuYm9keSlcbiAgICAgICAgICAgIGV4cGVjdChib2R5LmltYWdlKS50b0JlRGVmaW5lZCgpXG4gICAgICAgICAgICBleHBlY3QoXCJiMmMzZDRlNS1mNmE3LTg5MDEtYjJjMy1kNGU1ZjZhNzg5MDFcIikudG9CZShib2R5LmltYWdlLmltYWdlSWRlbnRpZmllcilcbiAgICAgICAgICAgIGV4cGVjdChcIkFsdCB0ZXh0XCIpLnRvQmUoYm9keS5pbWFnZS5hbHRUZXh0KVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB1cGxvYWRNZXNzYWdlUmVxdWVzdEJvZHkgPSB7XG4gICAgICAgICAgICBoZWFkZXI6IFwiSGVhZGVyIHRleHRcIixcbiAgICAgICAgICAgIGJvZHk6IFwiQm9keSB0ZXh0XCIsXG4gICAgICAgICAgICBpbWFnZToge1xuICAgICAgICAgICAgICAgIGltYWdlSWRlbnRpZmllcjogXCJiMmMzZDRlNS1mNmE3LTg5MDEtYjJjMy1kNGU1ZjZhNzg5MDFcIixcbiAgICAgICAgICAgICAgICBhbHRUZXh0OiBcIkFsdCB0ZXh0XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBjbGllbnQudXBsb2FkTWVzc2FnZShcImExYjJjM2Q0LWU1ZjYtNzg5MC1hMWIyLWMzZDRlNWY2Nzg5MFwiLCB1cGxvYWRNZXNzYWdlUmVxdWVzdEJvZHkpXG4gICAgfSlcblxuICAgIGl0KCdjYWxscyBkZWxldGVNZXNzYWdlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBjbGllbnQgPSBnZXRBcHBTdG9yZVNlcnZlckFQSUNsaWVudChcIlwiLCAyMDAsIChwYXRoOiBzdHJpbmcsIHBhcnNlZFF1ZXJ5UGFyYW1ldGVyczogVVJMU2VhcmNoUGFyYW1zLCBtZXRob2Q6IHN0cmluZywgcmVxdWVzdEJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IHVuZGVmaW5lZCwgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH0pID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChcIkRFTEVURVwiKS50b0JlKG1ldGhvZClcbiAgICAgICAgICAgIGV4cGVjdChcIi9pbkFwcHMvdjEvbWVzc2FnaW5nL21lc3NhZ2UvYTFiMmMzZDQtZTVmNi03ODkwLWExYjItYzNkNGU1ZjY3ODkwXCIpLnRvQmUocGF0aClcbiAgICAgICAgICAgIGV4cGVjdChwYXJzZWRRdWVyeVBhcmFtZXRlcnMuZW50cmllcy5sZW5ndGgpLnRvQmUoMClcbiAgICAgICAgICAgIGV4cGVjdChyZXF1ZXN0Qm9keSkudG9CZVVuZGVmaW5lZCgpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IGNsaWVudC5kZWxldGVNZXNzYWdlKFwiYTFiMmMzZDQtZTVmNi03ODkwLWExYjItYzNkNGU1ZjY3ODkwXCIpXG4gICAgfSlcblxuICAgIGl0KCdjYWxscyBnZXRNZXNzYWdlTGlzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50V2l0aEJvZHkoXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL2dldE1lc3NhZ2VMaXN0UmVzcG9uc2UuanNvblwiLCAocGF0aDogc3RyaW5nLCBwYXJzZWRRdWVyeVBhcmFtZXRlcnM6IFVSTFNlYXJjaFBhcmFtcywgbWV0aG9kOiBzdHJpbmcsIHJlcXVlc3RCb2R5OiBzdHJpbmcgfCBCdWZmZXIgfCB1bmRlZmluZWQsIGhlYWRlcnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9KSA9PiB7XG4gICAgICAgICAgICBleHBlY3QoXCJHRVRcIikudG9CZShtZXRob2QpXG4gICAgICAgICAgICBleHBlY3QoXCIvaW5BcHBzL3YxL21lc3NhZ2luZy9tZXNzYWdlL2xpc3RcIikudG9CZShwYXRoKVxuICAgICAgICAgICAgZXhwZWN0KHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5lbnRyaWVzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgICAgICAgZXhwZWN0KHJlcXVlc3RCb2R5KS50b0JlVW5kZWZpbmVkKClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjbGllbnQuZ2V0TWVzc2FnZUxpc3QoKVxuXG4gICAgICAgIGV4cGVjdChyZXNwb25zZSkudG9CZVRydXRoeSgpXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5tZXNzYWdlSWRlbnRpZmllcnMpLnRvQmVEZWZpbmVkKClcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLm1lc3NhZ2VJZGVudGlmaWVycz8ubGVuZ3RoKS50b0JlKDEpXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5tZXNzYWdlSWRlbnRpZmllcnM/LlswXS5tZXNzYWdlSWRlbnRpZmllcikudG9CZShcImExYjJjM2Q0LWU1ZjYtNzg5MC1hMWIyLWMzZDRlNWY2Nzg5MFwiKVxuICAgICAgICBleHBlY3QocmVzcG9uc2UubWVzc2FnZUlkZW50aWZpZXJzPy5bMF0ubWVzc2FnZVN0YXRlKS50b0JlKFwiQVBQUk9WRURcIilcbiAgICB9KVxuXG4gICAgaXQoJ2NhbGxzIGNvbmZpZ3VyZURlZmF1bHRNZXNzYWdlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBjbGllbnQgPSBnZXRBcHBTdG9yZVNlcnZlckFQSUNsaWVudChcIlwiLCAyMDAsIChwYXRoOiBzdHJpbmcsIHBhcnNlZFF1ZXJ5UGFyYW1ldGVyczogVVJMU2VhcmNoUGFyYW1zLCBtZXRob2Q6IHN0cmluZywgcmVxdWVzdEJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IHVuZGVmaW5lZCwgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH0pID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChcIlBVVFwiKS50b0JlKG1ldGhvZClcbiAgICAgICAgICAgIGV4cGVjdChcIi9pbkFwcHMvdjEvbWVzc2FnaW5nL2RlZmF1bHQvY29tLmV4YW1wbGUucHJvZHVjdC9lbi1VU1wiKS50b0JlKHBhdGgpXG4gICAgICAgICAgICBleHBlY3QocGFyc2VkUXVlcnlQYXJhbWV0ZXJzLmVudHJpZXMubGVuZ3RoKS50b0JlKDApXG4gICAgICAgICAgICBleHBlY3QocmVxdWVzdEJvZHkpLnRvQmVUcnV0aHkoKVxuICAgICAgICAgICAgZXhwZWN0KHR5cGVvZiByZXF1ZXN0Qm9keSkudG9CZSgnc3RyaW5nJylcblxuICAgICAgICAgICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UocmVxdWVzdEJvZHkgYXMgc3RyaW5nKVxuICAgICAgICAgICAgZXhwZWN0KFwiYTFiMmMzZDQtZTVmNi03ODkwLWExYjItYzNkNGU1ZjY3ODkwXCIpLnRvQmUoYm9keS5tZXNzYWdlSWRlbnRpZmllcilcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZGVmYXVsdENvbmZpZ3VyYXRpb25SZXF1ZXN0ID0ge1xuICAgICAgICAgICAgbWVzc2FnZUlkZW50aWZpZXI6IFwiYTFiMmMzZDQtZTVmNi03ODkwLWExYjItYzNkNGU1ZjY3ODkwXCJcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBjbGllbnQuY29uZmlndXJlRGVmYXVsdE1lc3NhZ2UoXCJjb20uZXhhbXBsZS5wcm9kdWN0XCIsIFwiZW4tVVNcIiwgZGVmYXVsdENvbmZpZ3VyYXRpb25SZXF1ZXN0KVxuICAgIH0pXG5cbiAgICBpdCgnY2FsbHMgZGVsZXRlRGVmYXVsdE1lc3NhZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGdldEFwcFN0b3JlU2VydmVyQVBJQ2xpZW50KFwiXCIsIDIwMCwgKHBhdGg6IHN0cmluZywgcGFyc2VkUXVlcnlQYXJhbWV0ZXJzOiBVUkxTZWFyY2hQYXJhbXMsIG1ldGhvZDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nIHwgQnVmZmVyIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfSkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KFwiREVMRVRFXCIpLnRvQmUobWV0aG9kKVxuICAgICAgICAgICAgZXhwZWN0KFwiL2luQXBwcy92MS9tZXNzYWdpbmcvZGVmYXVsdC9jb20uZXhhbXBsZS5wcm9kdWN0L2VuLVVTXCIpLnRvQmUocGF0aClcbiAgICAgICAgICAgIGV4cGVjdChwYXJzZWRRdWVyeVBhcmFtZXRlcnMuZW50cmllcy5sZW5ndGgpLnRvQmUoMClcbiAgICAgICAgICAgIGV4cGVjdChyZXF1ZXN0Qm9keSkudG9CZVVuZGVmaW5lZCgpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IGNsaWVudC5kZWxldGVEZWZhdWx0TWVzc2FnZShcImNvbS5leGFtcGxlLnByb2R1Y3RcIiwgXCJlbi1VU1wiKVxuICAgIH0pXG5cbiAgICBpdCgnY2FsbHMgZ2V0QXBwVHJhbnNhY3Rpb25JbmZvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnRXaXRoQm9keShcInRlc3RzL3Jlc291cmNlcy9tb2RlbHMvYXBwVHJhbnNhY3Rpb25JbmZvUmVzcG9uc2UuanNvblwiLCAocGF0aDogc3RyaW5nLCBwYXJzZWRRdWVyeVBhcmFtZXRlcnM6IFVSTFNlYXJjaFBhcmFtcywgbWV0aG9kOiBzdHJpbmcsIHJlcXVlc3RCb2R5OiBzdHJpbmcgfCBCdWZmZXIgfCB1bmRlZmluZWQsIGhlYWRlcnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9KSA9PiB7XG4gICAgICAgICAgICAgZXhwZWN0KFwiR0VUXCIpLnRvQmUobWV0aG9kKVxuICAgICAgICAgICAgIGV4cGVjdChcIi9pbkFwcHMvdjEvdHJhbnNhY3Rpb25zL2FwcFRyYW5zYWN0aW9ucy8xMjM0XCIpLnRvQmUocGF0aClcbiAgICAgICAgICAgICBleHBlY3QocGFyc2VkUXVlcnlQYXJhbWV0ZXJzLmVudHJpZXMubGVuZ3RoKS50b0JlKDApXG4gICAgICAgICAgICAgZXhwZWN0KHJlcXVlc3RCb2R5KS50b0JlVW5kZWZpbmVkKClcbiAgICAgICAgIH0pO1xuXG4gICAgICAgICBjb25zdCBhcHBUcmFuc2FjdGlvbkluZm9SZXNwb25zZSA9IGF3YWl0IGNsaWVudC5nZXRBcHBUcmFuc2FjdGlvbkluZm8oXCIxMjM0XCIpO1xuXG4gICAgICAgICBleHBlY3QoYXBwVHJhbnNhY3Rpb25JbmZvUmVzcG9uc2UpLnRvQmVUcnV0aHkoKVxuICAgICAgICAgZXhwZWN0KFwic2lnbmVkX2FwcF90cmFuc2FjdGlvbl9pbmZvX3ZhbHVlXCIpLnRvQmUoYXBwVHJhbnNhY3Rpb25JbmZvUmVzcG9uc2Uuc2lnbmVkQXBwVHJhbnNhY3Rpb25JbmZvKVxuICAgICB9KVxuXG4gICAgIGl0KCdjYWxscyBnZXRBcHBUcmFuc2FjdGlvbkluZm8gYnV0IHJlY2VpdmVzIGludmFsaWQgdHJhbnNhY3Rpb24gaWQgZXJyb3InLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnRXaXRoQm9keShcInRlc3RzL3Jlc291cmNlcy9tb2RlbHMvaW52YWxpZFRyYW5zYWN0aW9uSWRFcnJvci5qc29uXCIsIChwYXRoOiBzdHJpbmcsIHBhcnNlZFF1ZXJ5UGFyYW1ldGVyczogVVJMU2VhcmNoUGFyYW1zLCBtZXRob2Q6IHN0cmluZywgcmVxdWVzdEJvZHk6IHN0cmluZyB8IEJ1ZmZlciB8IHVuZGVmaW5lZCwgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH0pID0+IHtcbiAgICAgICAgICAgICAgZXhwZWN0KFwiR0VUXCIpLnRvQmUobWV0aG9kKVxuICAgICAgICAgICAgICBleHBlY3QoXCIvaW5BcHBzL3YxL3RyYW5zYWN0aW9ucy9hcHBUcmFuc2FjdGlvbnMvaW52YWxpZF9pZFwiKS50b0JlKHBhdGgpXG4gICAgICAgICAgICAgIGV4cGVjdChwYXJzZWRRdWVyeVBhcmFtZXRlcnMuZW50cmllcy5sZW5ndGgpLnRvQmUoMClcbiAgICAgICAgICAgICAgZXhwZWN0KHJlcXVlc3RCb2R5KS50b0JlVW5kZWZpbmVkKClcbiAgICAgICAgICB9LCA0MDApO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICBjb25zdCBhcHBUcmFuc2FjdGlvbkluZm9SZXNwb25zZSA9IGF3YWl0IGNsaWVudC5nZXRBcHBUcmFuc2FjdGlvbkluZm8oXCJpbnZhbGlkX2lkXCIpO1xuICAgICAgICAgICAgIGZhaWwoJ3RoaXMgdGVzdCBjYWxsIGlzIGV4cGVjdGVkIHRvIHRocm93JylcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgbGV0IGVycm9yID0gZSBhcyBBUElFeGNlcHRpb25cbiAgICAgICAgICAgICBleHBlY3QoZXJyb3IuaHR0cFN0YXR1c0NvZGUpLnRvQmUoNDAwKVxuICAgICAgICAgICAgIGV4cGVjdChlcnJvci5hcGlFcnJvcikudG9CZShBUElFcnJvci5JTlZBTElEX1RSQU5TQUNUSU9OX0lEKVxuICAgICAgICAgICAgIGV4cGVjdChlcnJvci5lcnJvck1lc3NhZ2UpLnRvQmUoXCJJbnZhbGlkIHRyYW5zYWN0aW9uIGlkLlwiKVxuICAgICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIGl0KCdjYWxscyBnZXRBcHBUcmFuc2FjdGlvbkluZm8gYnV0IHJlY2VpdmVzIGFwcCB0cmFuc2FjdGlvbiBkb2VzIG5vdCBleGlzdCBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgIGNvbnN0IGNsaWVudCA9IGdldENsaWVudFdpdGhCb2R5KFwidGVzdHMvcmVzb3VyY2VzL21vZGVscy9hcHBUcmFuc2FjdGlvbkRvZXNOb3RFeGlzdEVycm9yLmpzb25cIiwgKHBhdGg6IHN0cmluZywgcGFyc2VkUXVlcnlQYXJhbWV0ZXJzOiBVUkxTZWFyY2hQYXJhbXMsIG1ldGhvZDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nIHwgQnVmZmVyIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfSkgPT4ge1xuICAgICAgICAgICAgICBleHBlY3QoXCJHRVRcIikudG9CZShtZXRob2QpXG4gICAgICAgICAgICAgIGV4cGVjdChcIi9pbkFwcHMvdjEvdHJhbnNhY3Rpb25zL2FwcFRyYW5zYWN0aW9ucy81Njc4XCIpLnRvQmUocGF0aClcbiAgICAgICAgICAgICAgZXhwZWN0KHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5lbnRyaWVzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgICAgICAgICBleHBlY3QocmVxdWVzdEJvZHkpLnRvQmVVbmRlZmluZWQoKVxuICAgICAgICAgIH0sIDQwNCk7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgIGNvbnN0IGFwcFRyYW5zYWN0aW9uSW5mb1Jlc3BvbnNlID0gYXdhaXQgY2xpZW50LmdldEFwcFRyYW5zYWN0aW9uSW5mbyhcIjU2NzhcIik7XG4gICAgICAgICAgICAgZmFpbCgndGhpcyB0ZXN0IGNhbGwgaXMgZXhwZWN0ZWQgdG8gdGhyb3cnKVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICBsZXQgZXJyb3IgPSBlIGFzIEFQSUV4Y2VwdGlvblxuICAgICAgICAgICAgIGV4cGVjdChlcnJvci5odHRwU3RhdHVzQ29kZSkudG9CZSg0MDQpXG4gICAgICAgICAgICAgZXhwZWN0KGVycm9yLmFwaUVycm9yKS50b0JlKEFQSUVycm9yLkFQUF9UUkFOU0FDVElPTl9ET0VTX05PVF9FWElTVF9FUlJPUilcbiAgICAgICAgICAgICBleHBlY3QoZXJyb3IuZXJyb3JNZXNzYWdlKS50b0JlKFwiTm8gQXBwVHJhbnNhY3Rpb24gZXhpc3RzIGZvciB0aGUgY3VzdG9tZXIuXCIpXG4gICAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgaXQoJ2NhbGxzIGdldEFwcFRyYW5zYWN0aW9uSW5mbyBidXQgcmVjZWl2ZXMgdHJhbnNhY3Rpb24gaWQgbm90IGZvdW5kIGVycm9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50V2l0aEJvZHkoXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL3RyYW5zYWN0aW9uSWROb3RGb3VuZEVycm9yLmpzb25cIiwgKHBhdGg6IHN0cmluZywgcGFyc2VkUXVlcnlQYXJhbWV0ZXJzOiBVUkxTZWFyY2hQYXJhbXMsIG1ldGhvZDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nIHwgQnVmZmVyIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfSkgPT4ge1xuICAgICAgICAgICAgICBleHBlY3QoXCJHRVRcIikudG9CZShtZXRob2QpXG4gICAgICAgICAgICAgIGV4cGVjdChcIi9pbkFwcHMvdjEvdHJhbnNhY3Rpb25zL2FwcFRyYW5zYWN0aW9ucy85OTk5XCIpLnRvQmUocGF0aClcbiAgICAgICAgICAgICAgZXhwZWN0KHBhcnNlZFF1ZXJ5UGFyYW1ldGVycy5lbnRyaWVzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgICAgICAgICBleHBlY3QocmVxdWVzdEJvZHkpLnRvQmVVbmRlZmluZWQoKVxuICAgICAgICAgIH0sIDQwNCk7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgIGNvbnN0IGFwcFRyYW5zYWN0aW9uSW5mb1Jlc3BvbnNlID0gYXdhaXQgY2xpZW50LmdldEFwcFRyYW5zYWN0aW9uSW5mbyhcIjk5OTlcIik7XG4gICAgICAgICAgICAgZmFpbCgndGhpcyB0ZXN0IGNhbGwgaXMgZXhwZWN0ZWQgdG8gdGhyb3cnKVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICBsZXQgZXJyb3IgPSBlIGFzIEFQSUV4Y2VwdGlvblxuICAgICAgICAgICAgIGV4cGVjdChlcnJvci5odHRwU3RhdHVzQ29kZSkudG9CZSg0MDQpXG4gICAgICAgICAgICAgZXhwZWN0KGVycm9yLmFwaUVycm9yKS50b0JlKEFQSUVycm9yLlRSQU5TQUNUSU9OX0lEX05PVF9GT1VORClcbiAgICAgICAgICAgICBleHBlY3QoZXJyb3IuZXJyb3JNZXNzYWdlKS50b0JlKFwiVHJhbnNhY3Rpb24gaWQgbm90IGZvdW5kLlwiKVxuICAgICAgICAgIH1cbiAgICAgIH0pXG59KSJdfQ==